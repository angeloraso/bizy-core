import { ChangeDetectionStrategy, ChangeDetectorRef, Component, EventEmitter, Inject, Input, Output, ViewChild } from '@angular/core';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
import * as i2 from "@ionic/angular";
import * as i3 from "../confirm-buttons/confirm-buttons.component";
export class InputComponent {
    ref;
    bizyInput;
    id = `bizy-input-${Math.random()}`;
    disabled = false;
    readonly = false;
    multiple = false;
    clear = true;
    autoFocus = true;
    autoCapitalize = false;
    autoCorrect = false;
    browserAutoComplete = true;
    type = 'text';
    label = '';
    max;
    maxLength;
    min;
    minLength;
    control;
    placeholder = '';
    cancelLabel = 'Cancelar';
    confirmLabel = 'Confirmar';
    customClass;
    onFocus = new EventEmitter();
    constructor(ref) {
        this.ref = ref;
    }
    onInput = (event) => {
        if (!event || !event.target) {
            return;
        }
        this.control.markAsTouched();
        this.control.setValue(event.target.value ?? null);
        this.ref.detectChanges();
    };
    onBlur() {
        this.control.markAsTouched();
    }
    focus() {
        if (!this.bizyInput || !this.bizyInput.setFocus) {
            return;
        }
        this.bizyInput.setFocus();
    }
    cancel(modal, dateTime) {
        if (!modal || !dateTime) {
            return;
        }
        dateTime.cancel();
        modal.dismiss();
    }
    confirm(modal, dateTime) {
        if (!modal || !dateTime || !dateTime.value) {
            return;
        }
        dateTime.confirm();
        setTimeout(() => {
            this.onInput({ target: { value: String(dateTime.value) } });
            modal.dismiss();
        }, 1);
    }
    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.0.9", ngImport: i0, type: InputComponent, deps: [{ token: ChangeDetectorRef }], target: i0.ɵɵFactoryTarget.Component });
    static ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "17.0.9", type: InputComponent, selector: "bizy-input", inputs: { id: "id", disabled: "disabled", readonly: "readonly", multiple: "multiple", clear: "clear", autoFocus: "autoFocus", autoCapitalize: "autoCapitalize", autoCorrect: "autoCorrect", browserAutoComplete: "browserAutoComplete", type: "type", label: "label", max: "max", maxLength: "maxLength", min: "min", minLength: "minLength", control: "control", placeholder: "placeholder", cancelLabel: "cancelLabel", confirmLabel: "confirmLabel", customClass: "customClass" }, outputs: { onFocus: "onFocus" }, viewQueries: [{ propertyName: "bizyInput", first: true, predicate: ["bizyInput"], descendants: true }], ngImport: i0, template: "<ion-input \n    #bizyInput\n    *ngIf=\"type !== 'date' && type !== 'date-time' && type !== 'time' && type !== 'month-year' && type !== 'year' && type !== 'month' && type !== 'search'\"\n    class=\"bizy-input {{customClass}}\"\n    [ngClass]=\"{'bizy-input--error': control && control.touched && control.invalid}\"\n    [type]=\"type\"\n    [inputmode]=\"type\"\n    id=\"{{id}}\"\n    [disabled]=\"disabled\"\n    [readonly]=\"readonly\"\n    [value]=\"control?.value\"\n    [spellcheck]=\"true\"\n    [autocapitalize]=\"autoCapitalize ? 'on' : 'off'\"\n    [autocorrect]=\"autoCorrect ? 'on' : 'off'\"\n    [autocomplete]=\"browserAutoComplete ? 'on' : 'off'\"\n    [autofocus]=\"autoFocus\"\n    fill=\"solid\"\n    [max]=\"max\"\n    [maxlength]=\"maxLength\"\n    [min]=\"min\"\n    [minlength]=\"minLength\"\n    [debounce]=\"300\"\n    (ionBlur)=\"onBlur()\"\n    (ionInput)=\"onInput($event)\"\n    [clearInput]=\"clear\"\n    [placeholder]=\"placeholder\"\n    labelPlacement=\"stacked\">\n    <div slot=\"start\"><ng-content select=\"[input-start]\"></ng-content></div>\n    <div slot=\"label\">{{label}} <ng-content select=\"[input-label]\"></ng-content></div>\n    <div slot=\"end\"><ng-content select=\"[input-end]\"></ng-content></div>\n</ion-input>\n\n<ion-input \n    *ngIf=\"type === 'date' || type === 'date-time' || type === 'time' || type === 'month-year' || type === 'year' || type === 'month'\"\n    class=\"bizy-input {{customClass}}\"\n    [ngClass]=\"{'bizy-input--error': control && control.touched && control.invalid}\"\n    type=\"text\"\n    id=\"{{id}}\"\n    [disabled]=\"disabled\"\n    [readonly]=\"true\"\n    [value]=\"control?.value | date : (type === 'date' ? 'dd/MM/yyyy' : type === 'date-time' ? 'dd/MM/yyyy hh:mm' : type === 'time' ? 'hh:mm' : type === 'month-year' ? 'MMMM yyyy' : type === 'year' ? 'yyyy' : 'MMMM')\"\n    fill=\"solid\"\n    (ionBlur)=\"onBlur()\"\n    [clearInput]=\"clear\"\n    [placeholder]=\"placeholder\"\n    labelPlacement=\"stacked\">\n    <div slot=\"start\"><ng-content select=\"[input-start]\"></ng-content></div>\n    <div slot=\"label\">{{label}} <ng-content select=\"[input-label]\"></ng-content></div>\n    <div slot=\"end\"><ng-content select=\"[input-end]\"></ng-content></div>\n</ion-input>\n\n<span class=\"bizy-input__errors\" *ngIf=\"control && control.touched && control.invalid\">\n    <ng-content select=\"[input-error]\"></ng-content>\n</span>\n\n<ion-modal \n    #bizyInputDateTimeModal\n    trigger=\"{{id}}\"\n    class=\"bizy-date-input\"\n    *ngIf=\"type === 'date' || type === 'date-time' || type === 'time' || type === 'month-year' || type === 'year' || type === 'month'\">\n    <ng-template>\n\n        <ion-datetime \n            #bizyInputDateTime\n            [presentation]=\"type\" \n            [firstDayOfWeek]=\"1\"\n            [min]=\"min\"\n            [max]=\"max\"\n            locale=\"es-AR\"\n            hourCycle=\"h24\"\n            [showDefaultButtons]=\"true\"\n            [cancelText]=\"cancelLabel\"\n            [doneText]=\"confirmLabel\"\n            [value]=\"control?.value\">\n\n            <bizy-confirm-buttons\n                slot=\"buttons\"\n                (cancel)=\"cancel(bizyInputDateTimeModal, bizyInputDateTime)\"\n                (confirm)=\"confirm(bizyInputDateTimeModal, bizyInputDateTime)\">\n            </bizy-confirm-buttons>\n        </ion-datetime>\n\n    </ng-template>\n</ion-modal>\n\n", styles: ["::ng-deep .bizy-input{--color: var(--bizy-input-color) !important;--background: var(--bizy-input-background-color) !important;--placeholder-color: var(--bizy-input-placeholder-color) !important;--placeholder-opacity: .8 !important;--padding-start: .3rem !important;--padding-end: .3rem !important;--inner-padding-end: 0 !important;--border-radius: .3rem .3rem 0 0 !important;border-bottom:.1rem solid var(--bizy-input-color)}::ng-deep .bizy-input__errors{margin-top:.5rem;display:flex;flex-direction:column;row-gap:.3rem}::ng-deep .bizy-input--error{border-bottom-color:var(--bizy-input-error-color)!important}::ng-deep .bizy-input--error [slot=label]{color:var(--bizy-input-error-color)!important}::ng-deep .bizy-input [slot=label]{color:var(--bizy-input-label-color)}::ng-deep .bizy-input [slot=start]{margin-inline-start:0!important;margin-inline-end:0!important}::ng-deep .bizy-input [slot=end]{margin-inline-start:0!important;margin-inline-end:0!important}::ng-deep .input-clear-icon.sc-ion-input-ios{width:auto!important;height:auto!important}::ng-deep .bizy-date-input{--width: auto !important;--height: auto !important}::ng-deep ion-datetime{--ion-color-base: var(--bizy-input-date-color);--ion-color-contrast: var(--bizy-input-date-contrast-color) !important}\n"], dependencies: [{ kind: "directive", type: i1.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i1.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "component", type: i2.IonDatetime, selector: "ion-datetime", inputs: ["cancelText", "clearText", "color", "dayValues", "disabled", "doneText", "firstDayOfWeek", "highlightedDates", "hourCycle", "hourValues", "isDateEnabled", "locale", "max", "min", "minuteValues", "mode", "monthValues", "multiple", "name", "preferWheel", "presentation", "readonly", "showClearButton", "showDefaultButtons", "showDefaultTimeLabel", "showDefaultTitle", "size", "titleSelectedDatesFormatter", "value", "yearValues"] }, { kind: "component", type: i2.IonInput, selector: "ion-input", inputs: ["accept", "autocapitalize", "autocomplete", "autocorrect", "autofocus", "clearInput", "clearOnEdit", "color", "counter", "counterFormatter", "debounce", "disabled", "enterkeyhint", "errorText", "fill", "helperText", "inputmode", "label", "labelPlacement", "legacy", "max", "maxlength", "min", "minlength", "mode", "multiple", "name", "pattern", "placeholder", "readonly", "required", "shape", "size", "spellcheck", "step", "type", "value"] }, { kind: "component", type: i2.IonModal, selector: "ion-modal" }, { kind: "directive", type: i2.SelectValueAccessor, selector: "ion-select, ion-radio-group, ion-segment, ion-datetime" }, { kind: "directive", type: i2.TextValueAccessor, selector: "ion-input:not([type=number]),ion-textarea,ion-searchbar,ion-range" }, { kind: "component", type: i3.ConfirmButtonsComponent, selector: "bizy-confirm-buttons", inputs: ["confirmLabel", "cancelLabel", "fixed", "disabled"], outputs: ["cancel", "confirm"] }, { kind: "pipe", type: i1.DatePipe, name: "date" }], changeDetection: i0.ChangeDetectionStrategy.OnPush });
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.0.9", ngImport: i0, type: InputComponent, decorators: [{
            type: Component,
            args: [{ selector: 'bizy-input', changeDetection: ChangeDetectionStrategy.OnPush, template: "<ion-input \n    #bizyInput\n    *ngIf=\"type !== 'date' && type !== 'date-time' && type !== 'time' && type !== 'month-year' && type !== 'year' && type !== 'month' && type !== 'search'\"\n    class=\"bizy-input {{customClass}}\"\n    [ngClass]=\"{'bizy-input--error': control && control.touched && control.invalid}\"\n    [type]=\"type\"\n    [inputmode]=\"type\"\n    id=\"{{id}}\"\n    [disabled]=\"disabled\"\n    [readonly]=\"readonly\"\n    [value]=\"control?.value\"\n    [spellcheck]=\"true\"\n    [autocapitalize]=\"autoCapitalize ? 'on' : 'off'\"\n    [autocorrect]=\"autoCorrect ? 'on' : 'off'\"\n    [autocomplete]=\"browserAutoComplete ? 'on' : 'off'\"\n    [autofocus]=\"autoFocus\"\n    fill=\"solid\"\n    [max]=\"max\"\n    [maxlength]=\"maxLength\"\n    [min]=\"min\"\n    [minlength]=\"minLength\"\n    [debounce]=\"300\"\n    (ionBlur)=\"onBlur()\"\n    (ionInput)=\"onInput($event)\"\n    [clearInput]=\"clear\"\n    [placeholder]=\"placeholder\"\n    labelPlacement=\"stacked\">\n    <div slot=\"start\"><ng-content select=\"[input-start]\"></ng-content></div>\n    <div slot=\"label\">{{label}} <ng-content select=\"[input-label]\"></ng-content></div>\n    <div slot=\"end\"><ng-content select=\"[input-end]\"></ng-content></div>\n</ion-input>\n\n<ion-input \n    *ngIf=\"type === 'date' || type === 'date-time' || type === 'time' || type === 'month-year' || type === 'year' || type === 'month'\"\n    class=\"bizy-input {{customClass}}\"\n    [ngClass]=\"{'bizy-input--error': control && control.touched && control.invalid}\"\n    type=\"text\"\n    id=\"{{id}}\"\n    [disabled]=\"disabled\"\n    [readonly]=\"true\"\n    [value]=\"control?.value | date : (type === 'date' ? 'dd/MM/yyyy' : type === 'date-time' ? 'dd/MM/yyyy hh:mm' : type === 'time' ? 'hh:mm' : type === 'month-year' ? 'MMMM yyyy' : type === 'year' ? 'yyyy' : 'MMMM')\"\n    fill=\"solid\"\n    (ionBlur)=\"onBlur()\"\n    [clearInput]=\"clear\"\n    [placeholder]=\"placeholder\"\n    labelPlacement=\"stacked\">\n    <div slot=\"start\"><ng-content select=\"[input-start]\"></ng-content></div>\n    <div slot=\"label\">{{label}} <ng-content select=\"[input-label]\"></ng-content></div>\n    <div slot=\"end\"><ng-content select=\"[input-end]\"></ng-content></div>\n</ion-input>\n\n<span class=\"bizy-input__errors\" *ngIf=\"control && control.touched && control.invalid\">\n    <ng-content select=\"[input-error]\"></ng-content>\n</span>\n\n<ion-modal \n    #bizyInputDateTimeModal\n    trigger=\"{{id}}\"\n    class=\"bizy-date-input\"\n    *ngIf=\"type === 'date' || type === 'date-time' || type === 'time' || type === 'month-year' || type === 'year' || type === 'month'\">\n    <ng-template>\n\n        <ion-datetime \n            #bizyInputDateTime\n            [presentation]=\"type\" \n            [firstDayOfWeek]=\"1\"\n            [min]=\"min\"\n            [max]=\"max\"\n            locale=\"es-AR\"\n            hourCycle=\"h24\"\n            [showDefaultButtons]=\"true\"\n            [cancelText]=\"cancelLabel\"\n            [doneText]=\"confirmLabel\"\n            [value]=\"control?.value\">\n\n            <bizy-confirm-buttons\n                slot=\"buttons\"\n                (cancel)=\"cancel(bizyInputDateTimeModal, bizyInputDateTime)\"\n                (confirm)=\"confirm(bizyInputDateTimeModal, bizyInputDateTime)\">\n            </bizy-confirm-buttons>\n        </ion-datetime>\n\n    </ng-template>\n</ion-modal>\n\n", styles: ["::ng-deep .bizy-input{--color: var(--bizy-input-color) !important;--background: var(--bizy-input-background-color) !important;--placeholder-color: var(--bizy-input-placeholder-color) !important;--placeholder-opacity: .8 !important;--padding-start: .3rem !important;--padding-end: .3rem !important;--inner-padding-end: 0 !important;--border-radius: .3rem .3rem 0 0 !important;border-bottom:.1rem solid var(--bizy-input-color)}::ng-deep .bizy-input__errors{margin-top:.5rem;display:flex;flex-direction:column;row-gap:.3rem}::ng-deep .bizy-input--error{border-bottom-color:var(--bizy-input-error-color)!important}::ng-deep .bizy-input--error [slot=label]{color:var(--bizy-input-error-color)!important}::ng-deep .bizy-input [slot=label]{color:var(--bizy-input-label-color)}::ng-deep .bizy-input [slot=start]{margin-inline-start:0!important;margin-inline-end:0!important}::ng-deep .bizy-input [slot=end]{margin-inline-start:0!important;margin-inline-end:0!important}::ng-deep .input-clear-icon.sc-ion-input-ios{width:auto!important;height:auto!important}::ng-deep .bizy-date-input{--width: auto !important;--height: auto !important}::ng-deep ion-datetime{--ion-color-base: var(--bizy-input-date-color);--ion-color-contrast: var(--bizy-input-date-contrast-color) !important}\n"] }]
        }], ctorParameters: () => [{ type: i0.ChangeDetectorRef, decorators: [{
                    type: Inject,
                    args: [ChangeDetectorRef]
                }] }], propDecorators: { bizyInput: [{
                type: ViewChild,
                args: ['bizyInput']
            }], id: [{
                type: Input
            }], disabled: [{
                type: Input
            }], readonly: [{
                type: Input
            }], multiple: [{
                type: Input
            }], clear: [{
                type: Input
            }], autoFocus: [{
                type: Input
            }], autoCapitalize: [{
                type: Input
            }], autoCorrect: [{
                type: Input
            }], browserAutoComplete: [{
                type: Input
            }], type: [{
                type: Input
            }], label: [{
                type: Input
            }], max: [{
                type: Input
            }], maxLength: [{
                type: Input
            }], min: [{
                type: Input
            }], minLength: [{
                type: Input
            }], control: [{
                type: Input
            }], placeholder: [{
                type: Input
            }], cancelLabel: [{
                type: Input
            }], confirmLabel: [{
                type: Input
            }], customClass: [{
                type: Input
            }], onFocus: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5wdXQuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvY29tcG9uZW50cy9zcmMvbGliL2lucHV0L2lucHV0LmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2NvbXBvbmVudHMvc3JjL2xpYi9pbnB1dC9pbnB1dC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSx1QkFBdUIsRUFBRSxpQkFBaUIsRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxNQUFNLGVBQWUsQ0FBQzs7Ozs7QUFXdEksTUFBTSxPQUFPLGNBQWM7SUF3QnNCO0lBdkJ2QixTQUFTLENBQVc7SUFDbkMsRUFBRSxHQUFXLGNBQWMsSUFBSSxDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUM7SUFDM0MsUUFBUSxHQUFZLEtBQUssQ0FBQztJQUMxQixRQUFRLEdBQVksS0FBSyxDQUFDO0lBQzFCLFFBQVEsR0FBWSxLQUFLLENBQUM7SUFDMUIsS0FBSyxHQUFZLElBQUksQ0FBQztJQUN0QixTQUFTLEdBQVksSUFBSSxDQUFDO0lBQzFCLGNBQWMsR0FBWSxLQUFLLENBQUM7SUFDaEMsV0FBVyxHQUFZLEtBQUssQ0FBQztJQUM3QixtQkFBbUIsR0FBWSxJQUFJLENBQUM7SUFDcEMsSUFBSSxHQUFrSSxNQUFNLENBQUM7SUFDN0ksS0FBSyxHQUFXLEVBQUUsQ0FBQztJQUNuQixHQUFHLENBQVM7SUFDWixTQUFTLENBQVM7SUFDbEIsR0FBRyxDQUFTO0lBQ1osU0FBUyxDQUFTO0lBQ2xCLE9BQU8sQ0FBYztJQUNyQixXQUFXLEdBQVcsRUFBRSxDQUFDO0lBQ3pCLFdBQVcsR0FBVyxVQUFVLENBQUM7SUFDakMsWUFBWSxHQUFXLFdBQVcsQ0FBQztJQUNuQyxXQUFXLENBQVM7SUFDbkIsT0FBTyxHQUFHLElBQUksWUFBWSxFQUFRLENBQUM7SUFFN0MsWUFBK0MsR0FBc0I7UUFBdEIsUUFBRyxHQUFILEdBQUcsQ0FBbUI7SUFBRyxDQUFDO0lBRXpFLE9BQU8sR0FBRyxDQUFDLEtBQXlDLEVBQUUsRUFBRTtRQUN0RCxJQUFJLENBQUMsS0FBSyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRTtZQUMzQixPQUFPO1NBQ1I7UUFFRCxJQUFJLENBQUMsT0FBTyxDQUFDLGFBQWEsRUFBRSxDQUFDO1FBQzdCLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsS0FBSyxJQUFJLElBQUksQ0FBQyxDQUFDO1FBQ2xELElBQUksQ0FBQyxHQUFHLENBQUMsYUFBYSxFQUFFLENBQUM7SUFDM0IsQ0FBQyxDQUFBO0lBRUQsTUFBTTtRQUNKLElBQUksQ0FBQyxPQUFPLENBQUMsYUFBYSxFQUFFLENBQUM7SUFDL0IsQ0FBQztJQUVELEtBQUs7UUFDSCxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxFQUFFO1lBQy9DLE9BQU87U0FDUjtRQUVELElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxFQUFFLENBQUM7SUFDNUIsQ0FBQztJQUVELE1BQU0sQ0FBQyxLQUFlLEVBQUUsUUFBcUI7UUFDM0MsSUFBSSxDQUFDLEtBQUssSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUN2QixPQUFPO1NBQ1I7UUFFRCxRQUFRLENBQUMsTUFBTSxFQUFFLENBQUM7UUFDbEIsS0FBSyxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQ2xCLENBQUM7SUFFRCxPQUFPLENBQUMsS0FBZSxFQUFFLFFBQXFCO1FBQzVDLElBQUksQ0FBQyxLQUFLLElBQUksQ0FBQyxRQUFRLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxFQUFFO1lBQzFDLE9BQU87U0FDUjtRQUVELFFBQVEsQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUVuQixVQUFVLENBQUMsR0FBRyxFQUFFO1lBQ2QsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFDLE1BQU0sRUFBRSxFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxFQUFFLEVBQUMsQ0FBQyxDQUFBO1lBQ3hELEtBQUssQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUNsQixDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7SUFDUCxDQUFDO3VHQXBFVSxjQUFjLGtCQXdCTCxpQkFBaUI7MkZBeEIxQixjQUFjLGlwQkNYM0IsKzJHQXFGQTs7MkZEMUVhLGNBQWM7a0JBTjFCLFNBQVM7K0JBQ0UsWUFBWSxtQkFHTCx1QkFBdUIsQ0FBQyxNQUFNOzswQkEwQmxDLE1BQU07MkJBQUMsaUJBQWlCO3lDQXZCYixTQUFTO3NCQUFoQyxTQUFTO3VCQUFDLFdBQVc7Z0JBQ2IsRUFBRTtzQkFBVixLQUFLO2dCQUNHLFFBQVE7c0JBQWhCLEtBQUs7Z0JBQ0csUUFBUTtzQkFBaEIsS0FBSztnQkFDRyxRQUFRO3NCQUFoQixLQUFLO2dCQUNHLEtBQUs7c0JBQWIsS0FBSztnQkFDRyxTQUFTO3NCQUFqQixLQUFLO2dCQUNHLGNBQWM7c0JBQXRCLEtBQUs7Z0JBQ0csV0FBVztzQkFBbkIsS0FBSztnQkFDRyxtQkFBbUI7c0JBQTNCLEtBQUs7Z0JBQ0csSUFBSTtzQkFBWixLQUFLO2dCQUNHLEtBQUs7c0JBQWIsS0FBSztnQkFDRyxHQUFHO3NCQUFYLEtBQUs7Z0JBQ0csU0FBUztzQkFBakIsS0FBSztnQkFDRyxHQUFHO3NCQUFYLEtBQUs7Z0JBQ0csU0FBUztzQkFBakIsS0FBSztnQkFDRyxPQUFPO3NCQUFmLEtBQUs7Z0JBQ0csV0FBVztzQkFBbkIsS0FBSztnQkFDRyxXQUFXO3NCQUFuQixLQUFLO2dCQUNHLFlBQVk7c0JBQXBCLEtBQUs7Z0JBQ0csV0FBVztzQkFBbkIsS0FBSztnQkFDSSxPQUFPO3NCQUFoQixNQUFNIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksIENoYW5nZURldGVjdG9yUmVmLCBDb21wb25lbnQsIEV2ZW50RW1pdHRlciwgSW5qZWN0LCBJbnB1dCwgT3V0cHV0LCBWaWV3Q2hpbGQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEZvcm1Db250cm9sIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IHsgSW9uRGF0ZXRpbWUsIElvbklucHV0IH0gZnJvbSAnQGlvbmljL2FuZ3VsYXInO1xuaW1wb3J0IHsgSW9uTW9kYWwgfSBmcm9tICdAaW9uaWMvYW5ndWxhci9jb21tb24nO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdiaXp5LWlucHV0JyxcbiAgdGVtcGxhdGVVcmw6ICcuL2lucHV0Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9pbnB1dC5jc3MnXSxcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2hcbn0pXG5leHBvcnQgY2xhc3MgSW5wdXRDb21wb25lbnQge1xuICBAVmlld0NoaWxkKCdiaXp5SW5wdXQnKSBiaXp5SW5wdXQ6IElvbklucHV0O1xuICBASW5wdXQoKSBpZDogc3RyaW5nID0gYGJpenktaW5wdXQtJHtNYXRoLnJhbmRvbSgpfWA7XG4gIEBJbnB1dCgpIGRpc2FibGVkOiBib29sZWFuID0gZmFsc2U7XG4gIEBJbnB1dCgpIHJlYWRvbmx5OiBib29sZWFuID0gZmFsc2U7XG4gIEBJbnB1dCgpIG11bHRpcGxlOiBib29sZWFuID0gZmFsc2U7XG4gIEBJbnB1dCgpIGNsZWFyOiBib29sZWFuID0gdHJ1ZTtcbiAgQElucHV0KCkgYXV0b0ZvY3VzOiBib29sZWFuID0gdHJ1ZTtcbiAgQElucHV0KCkgYXV0b0NhcGl0YWxpemU6IGJvb2xlYW4gPSBmYWxzZTtcbiAgQElucHV0KCkgYXV0b0NvcnJlY3Q6IGJvb2xlYW4gPSBmYWxzZTtcbiAgQElucHV0KCkgYnJvd3NlckF1dG9Db21wbGV0ZTogYm9vbGVhbiA9IHRydWU7XG4gIEBJbnB1dCgpIHR5cGU6ICd0ZXh0JyB8ICdkYXRlJyB8ICdkYXRlLXRpbWUnIHwgJ3RpbWUnIHwgJ21vbnRoLXllYXInIHwgJ21vbnRoJyB8ICd5ZWFyJyB8ICdwYXNzd29yZCcgfCAnZW1haWwnIHwgJ251bWJlcicgfCAnc2VhcmNoJyB8ICd0ZWwnID0gJ3RleHQnO1xuICBASW5wdXQoKSBsYWJlbDogc3RyaW5nID0gJyc7XG4gIEBJbnB1dCgpIG1heDogbnVtYmVyO1xuICBASW5wdXQoKSBtYXhMZW5ndGg6IG51bWJlcjtcbiAgQElucHV0KCkgbWluOiBudW1iZXI7XG4gIEBJbnB1dCgpIG1pbkxlbmd0aDogbnVtYmVyO1xuICBASW5wdXQoKSBjb250cm9sOiBGb3JtQ29udHJvbDtcbiAgQElucHV0KCkgcGxhY2Vob2xkZXI6IHN0cmluZyA9ICcnO1xuICBASW5wdXQoKSBjYW5jZWxMYWJlbDogc3RyaW5nID0gJ0NhbmNlbGFyJztcbiAgQElucHV0KCkgY29uZmlybUxhYmVsOiBzdHJpbmcgPSAnQ29uZmlybWFyJztcbiAgQElucHV0KCkgY3VzdG9tQ2xhc3M6IHN0cmluZztcbiAgQE91dHB1dCgpIG9uRm9jdXMgPSBuZXcgRXZlbnRFbWl0dGVyPHZvaWQ+KCk7XG5cbiAgY29uc3RydWN0b3IoQEluamVjdChDaGFuZ2VEZXRlY3RvclJlZikgcHJpdmF0ZSByZWY6IENoYW5nZURldGVjdG9yUmVmKSB7fVxuXG4gIG9uSW5wdXQgPSAoZXZlbnQ6IHt0YXJnZXQ6IHt2YWx1ZTogc3RyaW5nIHwgbnVtYmVyfX0pID0+IHtcbiAgICBpZiAoIWV2ZW50IHx8ICFldmVudC50YXJnZXQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmNvbnRyb2wubWFya0FzVG91Y2hlZCgpO1xuICAgIHRoaXMuY29udHJvbC5zZXRWYWx1ZShldmVudC50YXJnZXQudmFsdWUgPz8gbnVsbCk7XG4gICAgdGhpcy5yZWYuZGV0ZWN0Q2hhbmdlcygpO1xuICB9XG5cbiAgb25CbHVyKCkge1xuICAgIHRoaXMuY29udHJvbC5tYXJrQXNUb3VjaGVkKCk7XG4gIH1cblxuICBmb2N1cygpIHtcbiAgICBpZiAoIXRoaXMuYml6eUlucHV0IHx8ICF0aGlzLmJpenlJbnB1dC5zZXRGb2N1cykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuYml6eUlucHV0LnNldEZvY3VzKCk7XG4gIH1cblxuICBjYW5jZWwobW9kYWw6IElvbk1vZGFsLCBkYXRlVGltZTogSW9uRGF0ZXRpbWUpIHtcbiAgICBpZiAoIW1vZGFsIHx8ICFkYXRlVGltZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGRhdGVUaW1lLmNhbmNlbCgpO1xuICAgIG1vZGFsLmRpc21pc3MoKTtcbiAgfVxuXG4gIGNvbmZpcm0obW9kYWw6IElvbk1vZGFsLCBkYXRlVGltZTogSW9uRGF0ZXRpbWUpIHtcbiAgICBpZiAoIW1vZGFsIHx8ICFkYXRlVGltZSB8fCAhZGF0ZVRpbWUudmFsdWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBkYXRlVGltZS5jb25maXJtKCk7XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMub25JbnB1dCh7dGFyZ2V0OiB7dmFsdWU6IFN0cmluZyhkYXRlVGltZS52YWx1ZSkgfX0pXG4gICAgICBtb2RhbC5kaXNtaXNzKCk7XG4gICAgfSwgMSlcbiAgfVxufSIsIjxpb24taW5wdXQgXG4gICAgI2JpenlJbnB1dFxuICAgICpuZ0lmPVwidHlwZSAhPT0gJ2RhdGUnICYmIHR5cGUgIT09ICdkYXRlLXRpbWUnICYmIHR5cGUgIT09ICd0aW1lJyAmJiB0eXBlICE9PSAnbW9udGgteWVhcicgJiYgdHlwZSAhPT0gJ3llYXInICYmIHR5cGUgIT09ICdtb250aCcgJiYgdHlwZSAhPT0gJ3NlYXJjaCdcIlxuICAgIGNsYXNzPVwiYml6eS1pbnB1dCB7e2N1c3RvbUNsYXNzfX1cIlxuICAgIFtuZ0NsYXNzXT1cInsnYml6eS1pbnB1dC0tZXJyb3InOiBjb250cm9sICYmIGNvbnRyb2wudG91Y2hlZCAmJiBjb250cm9sLmludmFsaWR9XCJcbiAgICBbdHlwZV09XCJ0eXBlXCJcbiAgICBbaW5wdXRtb2RlXT1cInR5cGVcIlxuICAgIGlkPVwie3tpZH19XCJcbiAgICBbZGlzYWJsZWRdPVwiZGlzYWJsZWRcIlxuICAgIFtyZWFkb25seV09XCJyZWFkb25seVwiXG4gICAgW3ZhbHVlXT1cImNvbnRyb2w/LnZhbHVlXCJcbiAgICBbc3BlbGxjaGVja109XCJ0cnVlXCJcbiAgICBbYXV0b2NhcGl0YWxpemVdPVwiYXV0b0NhcGl0YWxpemUgPyAnb24nIDogJ29mZidcIlxuICAgIFthdXRvY29ycmVjdF09XCJhdXRvQ29ycmVjdCA/ICdvbicgOiAnb2ZmJ1wiXG4gICAgW2F1dG9jb21wbGV0ZV09XCJicm93c2VyQXV0b0NvbXBsZXRlID8gJ29uJyA6ICdvZmYnXCJcbiAgICBbYXV0b2ZvY3VzXT1cImF1dG9Gb2N1c1wiXG4gICAgZmlsbD1cInNvbGlkXCJcbiAgICBbbWF4XT1cIm1heFwiXG4gICAgW21heGxlbmd0aF09XCJtYXhMZW5ndGhcIlxuICAgIFttaW5dPVwibWluXCJcbiAgICBbbWlubGVuZ3RoXT1cIm1pbkxlbmd0aFwiXG4gICAgW2RlYm91bmNlXT1cIjMwMFwiXG4gICAgKGlvbkJsdXIpPVwib25CbHVyKClcIlxuICAgIChpb25JbnB1dCk9XCJvbklucHV0KCRldmVudClcIlxuICAgIFtjbGVhcklucHV0XT1cImNsZWFyXCJcbiAgICBbcGxhY2Vob2xkZXJdPVwicGxhY2Vob2xkZXJcIlxuICAgIGxhYmVsUGxhY2VtZW50PVwic3RhY2tlZFwiPlxuICAgIDxkaXYgc2xvdD1cInN0YXJ0XCI+PG5nLWNvbnRlbnQgc2VsZWN0PVwiW2lucHV0LXN0YXJ0XVwiPjwvbmctY29udGVudD48L2Rpdj5cbiAgICA8ZGl2IHNsb3Q9XCJsYWJlbFwiPnt7bGFiZWx9fSA8bmctY29udGVudCBzZWxlY3Q9XCJbaW5wdXQtbGFiZWxdXCI+PC9uZy1jb250ZW50PjwvZGl2PlxuICAgIDxkaXYgc2xvdD1cImVuZFwiPjxuZy1jb250ZW50IHNlbGVjdD1cIltpbnB1dC1lbmRdXCI+PC9uZy1jb250ZW50PjwvZGl2PlxuPC9pb24taW5wdXQ+XG5cbjxpb24taW5wdXQgXG4gICAgKm5nSWY9XCJ0eXBlID09PSAnZGF0ZScgfHwgdHlwZSA9PT0gJ2RhdGUtdGltZScgfHwgdHlwZSA9PT0gJ3RpbWUnIHx8IHR5cGUgPT09ICdtb250aC15ZWFyJyB8fCB0eXBlID09PSAneWVhcicgfHwgdHlwZSA9PT0gJ21vbnRoJ1wiXG4gICAgY2xhc3M9XCJiaXp5LWlucHV0IHt7Y3VzdG9tQ2xhc3N9fVwiXG4gICAgW25nQ2xhc3NdPVwieydiaXp5LWlucHV0LS1lcnJvcic6IGNvbnRyb2wgJiYgY29udHJvbC50b3VjaGVkICYmIGNvbnRyb2wuaW52YWxpZH1cIlxuICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICBpZD1cInt7aWR9fVwiXG4gICAgW2Rpc2FibGVkXT1cImRpc2FibGVkXCJcbiAgICBbcmVhZG9ubHldPVwidHJ1ZVwiXG4gICAgW3ZhbHVlXT1cImNvbnRyb2w/LnZhbHVlIHwgZGF0ZSA6ICh0eXBlID09PSAnZGF0ZScgPyAnZGQvTU0veXl5eScgOiB0eXBlID09PSAnZGF0ZS10aW1lJyA/ICdkZC9NTS95eXl5IGhoOm1tJyA6IHR5cGUgPT09ICd0aW1lJyA/ICdoaDptbScgOiB0eXBlID09PSAnbW9udGgteWVhcicgPyAnTU1NTSB5eXl5JyA6IHR5cGUgPT09ICd5ZWFyJyA/ICd5eXl5JyA6ICdNTU1NJylcIlxuICAgIGZpbGw9XCJzb2xpZFwiXG4gICAgKGlvbkJsdXIpPVwib25CbHVyKClcIlxuICAgIFtjbGVhcklucHV0XT1cImNsZWFyXCJcbiAgICBbcGxhY2Vob2xkZXJdPVwicGxhY2Vob2xkZXJcIlxuICAgIGxhYmVsUGxhY2VtZW50PVwic3RhY2tlZFwiPlxuICAgIDxkaXYgc2xvdD1cInN0YXJ0XCI+PG5nLWNvbnRlbnQgc2VsZWN0PVwiW2lucHV0LXN0YXJ0XVwiPjwvbmctY29udGVudD48L2Rpdj5cbiAgICA8ZGl2IHNsb3Q9XCJsYWJlbFwiPnt7bGFiZWx9fSA8bmctY29udGVudCBzZWxlY3Q9XCJbaW5wdXQtbGFiZWxdXCI+PC9uZy1jb250ZW50PjwvZGl2PlxuICAgIDxkaXYgc2xvdD1cImVuZFwiPjxuZy1jb250ZW50IHNlbGVjdD1cIltpbnB1dC1lbmRdXCI+PC9uZy1jb250ZW50PjwvZGl2PlxuPC9pb24taW5wdXQ+XG5cbjxzcGFuIGNsYXNzPVwiYml6eS1pbnB1dF9fZXJyb3JzXCIgKm5nSWY9XCJjb250cm9sICYmIGNvbnRyb2wudG91Y2hlZCAmJiBjb250cm9sLmludmFsaWRcIj5cbiAgICA8bmctY29udGVudCBzZWxlY3Q9XCJbaW5wdXQtZXJyb3JdXCI+PC9uZy1jb250ZW50PlxuPC9zcGFuPlxuXG48aW9uLW1vZGFsIFxuICAgICNiaXp5SW5wdXREYXRlVGltZU1vZGFsXG4gICAgdHJpZ2dlcj1cInt7aWR9fVwiXG4gICAgY2xhc3M9XCJiaXp5LWRhdGUtaW5wdXRcIlxuICAgICpuZ0lmPVwidHlwZSA9PT0gJ2RhdGUnIHx8IHR5cGUgPT09ICdkYXRlLXRpbWUnIHx8IHR5cGUgPT09ICd0aW1lJyB8fCB0eXBlID09PSAnbW9udGgteWVhcicgfHwgdHlwZSA9PT0gJ3llYXInIHx8IHR5cGUgPT09ICdtb250aCdcIj5cbiAgICA8bmctdGVtcGxhdGU+XG5cbiAgICAgICAgPGlvbi1kYXRldGltZSBcbiAgICAgICAgICAgICNiaXp5SW5wdXREYXRlVGltZVxuICAgICAgICAgICAgW3ByZXNlbnRhdGlvbl09XCJ0eXBlXCIgXG4gICAgICAgICAgICBbZmlyc3REYXlPZldlZWtdPVwiMVwiXG4gICAgICAgICAgICBbbWluXT1cIm1pblwiXG4gICAgICAgICAgICBbbWF4XT1cIm1heFwiXG4gICAgICAgICAgICBsb2NhbGU9XCJlcy1BUlwiXG4gICAgICAgICAgICBob3VyQ3ljbGU9XCJoMjRcIlxuICAgICAgICAgICAgW3Nob3dEZWZhdWx0QnV0dG9uc109XCJ0cnVlXCJcbiAgICAgICAgICAgIFtjYW5jZWxUZXh0XT1cImNhbmNlbExhYmVsXCJcbiAgICAgICAgICAgIFtkb25lVGV4dF09XCJjb25maXJtTGFiZWxcIlxuICAgICAgICAgICAgW3ZhbHVlXT1cImNvbnRyb2w/LnZhbHVlXCI+XG5cbiAgICAgICAgICAgIDxiaXp5LWNvbmZpcm0tYnV0dG9uc1xuICAgICAgICAgICAgICAgIHNsb3Q9XCJidXR0b25zXCJcbiAgICAgICAgICAgICAgICAoY2FuY2VsKT1cImNhbmNlbChiaXp5SW5wdXREYXRlVGltZU1vZGFsLCBiaXp5SW5wdXREYXRlVGltZSlcIlxuICAgICAgICAgICAgICAgIChjb25maXJtKT1cImNvbmZpcm0oYml6eUlucHV0RGF0ZVRpbWVNb2RhbCwgYml6eUlucHV0RGF0ZVRpbWUpXCI+XG4gICAgICAgICAgICA8L2JpenktY29uZmlybS1idXR0b25zPlxuICAgICAgICA8L2lvbi1kYXRldGltZT5cblxuICAgIDwvbmctdGVtcGxhdGU+XG48L2lvbi1tb2RhbD5cblxuIl19