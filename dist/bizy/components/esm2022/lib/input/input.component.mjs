import { ChangeDetectionStrategy, ChangeDetectorRef, Component, EventEmitter, Inject, Input, Output, ViewChild } from '@angular/core';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
import * as i2 from "@ionic/angular";
import * as i3 from "../confirm-buttons/confirm-buttons.component";
export class InputComponent {
    ref;
    bizyInput;
    id = `bizy-input-${Math.random()}`;
    disabled = false;
    readonly = false;
    multiple = false;
    clear = true;
    autoFocus = true;
    autoCapitalize = false;
    autoCorrect = false;
    browserAutoComplete = true;
    type = 'text';
    label = '';
    max;
    maxLength;
    min;
    minLength;
    control;
    placeholder = '';
    cancelLabel = 'Cancelar';
    confirmLabel = 'Confirmar';
    customClass;
    onFocus = new EventEmitter();
    enter = new EventEmitter();
    onBlur = new EventEmitter();
    constructor(ref) {
        this.ref = ref;
    }
    onInput = (event) => {
        if (!event || !event.target) {
            return;
        }
        this.control.markAsTouched();
        this.control.setValue(event.target.value ?? null);
        this.ref.detectChanges();
    };
    _onBlur() {
        this.control.markAsTouched();
        this.onBlur.emit();
    }
    focus() {
        if (!this.bizyInput || !this.bizyInput.setFocus) {
            return;
        }
        this.bizyInput.setFocus();
    }
    cancel(modal, dateTime) {
        if (!modal || !dateTime) {
            return;
        }
        dateTime.cancel();
        modal.dismiss();
    }
    confirm(modal, dateTime) {
        if (!modal || !dateTime || !dateTime.value) {
            return;
        }
        dateTime.confirm();
        setTimeout(() => {
            this.onInput({ target: { value: String(dateTime.value) } });
            modal.dismiss();
        }, 1);
    }
    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: InputComponent, deps: [{ token: ChangeDetectorRef }], target: i0.ɵɵFactoryTarget.Component });
    static ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.2.12", type: InputComponent, selector: "bizy-input", inputs: { id: "id", disabled: "disabled", readonly: "readonly", multiple: "multiple", clear: "clear", autoFocus: "autoFocus", autoCapitalize: "autoCapitalize", autoCorrect: "autoCorrect", browserAutoComplete: "browserAutoComplete", type: "type", label: "label", max: "max", maxLength: "maxLength", min: "min", minLength: "minLength", control: "control", placeholder: "placeholder", cancelLabel: "cancelLabel", confirmLabel: "confirmLabel", customClass: "customClass" }, outputs: { onFocus: "onFocus", enter: "enter", onBlur: "onBlur" }, viewQueries: [{ propertyName: "bizyInput", first: true, predicate: ["bizyInput"], descendants: true }], ngImport: i0, template: "<ion-input \n    #bizyInput\n    *ngIf=\"type !== 'date' && type !== 'date-time' && type !== 'time' && type !== 'month-year' && type !== 'year' && type !== 'month' && type !== 'search'\"\n    class=\"bizy-input {{customClass}}\"\n    [ngClass]=\"{'bizy-input--error': control && control.touched && control.invalid}\"\n    [type]=\"type\"\n    [inputmode]=\"type\"\n    id=\"{{id}}\"\n    [disabled]=\"disabled\"\n    [readonly]=\"readonly\"\n    [value]=\"control?.value\"\n    [spellcheck]=\"true\"\n    [autocapitalize]=\"autoCapitalize ? 'on' : 'off'\"\n    [autocorrect]=\"autoCorrect ? 'on' : 'off'\"\n    [autocomplete]=\"browserAutoComplete ? 'on' : 'off'\"\n    [autofocus]=\"autoFocus\"\n    fill=\"solid\"\n    [max]=\"max\"\n    [maxlength]=\"maxLength\"\n    [min]=\"min\"\n    [minlength]=\"minLength\"\n    [debounce]=\"300\"\n    (ionBlur)=\"_onBlur()\"\n    (ionInput)=\"onInput($event)\"\n    (keyup.enter)=\"enter.emit()\"\n    [clearInput]=\"clear\"\n    [placeholder]=\"placeholder\"\n    labelPlacement=\"stacked\">\n    <div slot=\"start\"><ng-content select=\"[input-start]\"></ng-content></div>\n    <h4 slot=\"label\">{{label}} <ng-content select=\"[input-label]\"></ng-content></h4>\n    <div slot=\"end\"><ng-content select=\"[input-end]\"></ng-content></div>\n</ion-input>\n\n<ion-input \n    *ngIf=\"type === 'date' || type === 'date-time' || type === 'time' || type === 'month-year' || type === 'year' || type === 'month'\"\n    class=\"bizy-input {{customClass}}\"\n    [ngClass]=\"{'bizy-input--error': control && control.touched && control.invalid}\"\n    type=\"text\"\n    id=\"{{id}}\"\n    [disabled]=\"disabled\"\n    [readonly]=\"true\"\n    [value]=\"control?.value | date : (type === 'date' ? 'dd/MM/yyyy' : type === 'date-time' ? 'dd/MM/yyyy hh:mm' : type === 'time' ? 'hh:mm' : type === 'month-year' ? 'MMMM yyyy' : type === 'year' ? 'yyyy' : 'MMMM')\"\n    fill=\"solid\"\n    (ionBlur)=\"_onBlur()\"\n    [clearInput]=\"clear\"\n    [placeholder]=\"placeholder\"\n    labelPlacement=\"stacked\">\n    <div slot=\"start\"><ng-content select=\"[input-start]\"></ng-content></div>\n    <h4 slot=\"label\">{{label}} <ng-content select=\"[input-label]\"></ng-content></h4>\n    <div slot=\"end\"><ng-content select=\"[input-end]\"></ng-content></div>\n</ion-input>\n\n<span class=\"bizy-input__errors\" *ngIf=\"control && control.touched && control.invalid\">\n    <ng-content select=\"[input-error]\"></ng-content>\n</span>\n\n<ion-modal \n    #bizyInputDateTimeModal\n    trigger=\"{{id}}\"\n    class=\"bizy-date-input\"\n    *ngIf=\"type === 'date' || type === 'date-time' || type === 'time' || type === 'month-year' || type === 'year' || type === 'month'\">\n    <ng-template>\n\n        <ion-datetime \n            #bizyInputDateTime\n            [presentation]=\"type\" \n            [firstDayOfWeek]=\"1\"\n            [min]=\"min\"\n            [max]=\"max\"\n            locale=\"es-AR\"\n            hourCycle=\"h24\"\n            [showDefaultButtons]=\"true\"\n            [cancelText]=\"cancelLabel\"\n            [doneText]=\"confirmLabel\"\n            [value]=\"control?.value\">\n\n            <bizy-confirm-buttons\n                slot=\"buttons\"\n                (cancel)=\"cancel(bizyInputDateTimeModal, bizyInputDateTime)\"\n                (confirm)=\"confirm(bizyInputDateTimeModal, bizyInputDateTime)\">\n            </bizy-confirm-buttons>\n        </ion-datetime>\n\n    </ng-template>\n</ion-modal>\n\n", styles: [":host{font-size:1rem;width:100%}::ng-deep .bizy-input{--color: var(--bizy-input-color) !important;--background: var(--bizy-input-background-color) !important;--placeholder-color: var(--bizy-input-placeholder-color) !important;--placeholder-opacity: .8 !important;--padding-start: .3rem !important;--padding-end: .3rem !important;--inner-padding-end: 0 !important;--border-radius: .3rem .3rem 0 0 !important;border-bottom:.1rem solid var(--bizy-input-color)}::ng-deep .bizy-input__errors{margin-top:.5rem;display:flex;flex-direction:column;row-gap:.3rem}::ng-deep .bizy-input--error{border-bottom-color:var(--bizy-input-error-color)!important}::ng-deep .bizy-input--error [slot=label]{color:var(--bizy-input-error-color)!important}::ng-deep .bizy-input [slot=label]{color:var(--bizy-input-label-color)}::ng-deep .bizy-input [slot=start]{margin-inline-start:0!important;margin-inline-end:0!important}::ng-deep .bizy-input [slot=end]{margin-inline-start:0!important;margin-inline-end:0!important}::ng-deep .input-clear-icon.sc-ion-input-ios{width:auto!important;height:auto!important}::ng-deep .bizy-date-input{--width: auto !important;--height: auto !important}::ng-deep ion-datetime{--ion-color-base: var(--bizy-input-date-color);--ion-color-contrast: var(--bizy-input-date-contrast-color) !important}\n"], dependencies: [{ kind: "directive", type: i1.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i1.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "component", type: i2.IonDatetime, selector: "ion-datetime", inputs: ["cancelText", "clearText", "color", "dayValues", "disabled", "doneText", "firstDayOfWeek", "highlightedDates", "hourCycle", "hourValues", "isDateEnabled", "locale", "max", "min", "minuteValues", "mode", "monthValues", "multiple", "name", "preferWheel", "presentation", "readonly", "showClearButton", "showDefaultButtons", "showDefaultTimeLabel", "showDefaultTitle", "size", "titleSelectedDatesFormatter", "value", "yearValues"] }, { kind: "component", type: i2.IonInput, selector: "ion-input", inputs: ["accept", "autocapitalize", "autocomplete", "autocorrect", "autofocus", "clearInput", "clearOnEdit", "color", "counter", "counterFormatter", "debounce", "disabled", "enterkeyhint", "errorText", "fill", "helperText", "inputmode", "label", "labelPlacement", "legacy", "max", "maxlength", "min", "minlength", "mode", "multiple", "name", "pattern", "placeholder", "readonly", "required", "shape", "size", "spellcheck", "step", "type", "value"] }, { kind: "component", type: i2.IonModal, selector: "ion-modal" }, { kind: "directive", type: i2.SelectValueAccessor, selector: "ion-select, ion-radio-group, ion-segment, ion-datetime" }, { kind: "directive", type: i2.TextValueAccessor, selector: "ion-input:not([type=number]),ion-textarea,ion-searchbar,ion-range" }, { kind: "component", type: i3.ConfirmButtonsComponent, selector: "bizy-confirm-buttons", inputs: ["confirmLabel", "cancelLabel", "position", "disabled"], outputs: ["cancel", "confirm"] }, { kind: "pipe", type: i1.DatePipe, name: "date" }], changeDetection: i0.ChangeDetectionStrategy.OnPush });
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: InputComponent, decorators: [{
            type: Component,
            args: [{ selector: 'bizy-input', changeDetection: ChangeDetectionStrategy.OnPush, template: "<ion-input \n    #bizyInput\n    *ngIf=\"type !== 'date' && type !== 'date-time' && type !== 'time' && type !== 'month-year' && type !== 'year' && type !== 'month' && type !== 'search'\"\n    class=\"bizy-input {{customClass}}\"\n    [ngClass]=\"{'bizy-input--error': control && control.touched && control.invalid}\"\n    [type]=\"type\"\n    [inputmode]=\"type\"\n    id=\"{{id}}\"\n    [disabled]=\"disabled\"\n    [readonly]=\"readonly\"\n    [value]=\"control?.value\"\n    [spellcheck]=\"true\"\n    [autocapitalize]=\"autoCapitalize ? 'on' : 'off'\"\n    [autocorrect]=\"autoCorrect ? 'on' : 'off'\"\n    [autocomplete]=\"browserAutoComplete ? 'on' : 'off'\"\n    [autofocus]=\"autoFocus\"\n    fill=\"solid\"\n    [max]=\"max\"\n    [maxlength]=\"maxLength\"\n    [min]=\"min\"\n    [minlength]=\"minLength\"\n    [debounce]=\"300\"\n    (ionBlur)=\"_onBlur()\"\n    (ionInput)=\"onInput($event)\"\n    (keyup.enter)=\"enter.emit()\"\n    [clearInput]=\"clear\"\n    [placeholder]=\"placeholder\"\n    labelPlacement=\"stacked\">\n    <div slot=\"start\"><ng-content select=\"[input-start]\"></ng-content></div>\n    <h4 slot=\"label\">{{label}} <ng-content select=\"[input-label]\"></ng-content></h4>\n    <div slot=\"end\"><ng-content select=\"[input-end]\"></ng-content></div>\n</ion-input>\n\n<ion-input \n    *ngIf=\"type === 'date' || type === 'date-time' || type === 'time' || type === 'month-year' || type === 'year' || type === 'month'\"\n    class=\"bizy-input {{customClass}}\"\n    [ngClass]=\"{'bizy-input--error': control && control.touched && control.invalid}\"\n    type=\"text\"\n    id=\"{{id}}\"\n    [disabled]=\"disabled\"\n    [readonly]=\"true\"\n    [value]=\"control?.value | date : (type === 'date' ? 'dd/MM/yyyy' : type === 'date-time' ? 'dd/MM/yyyy hh:mm' : type === 'time' ? 'hh:mm' : type === 'month-year' ? 'MMMM yyyy' : type === 'year' ? 'yyyy' : 'MMMM')\"\n    fill=\"solid\"\n    (ionBlur)=\"_onBlur()\"\n    [clearInput]=\"clear\"\n    [placeholder]=\"placeholder\"\n    labelPlacement=\"stacked\">\n    <div slot=\"start\"><ng-content select=\"[input-start]\"></ng-content></div>\n    <h4 slot=\"label\">{{label}} <ng-content select=\"[input-label]\"></ng-content></h4>\n    <div slot=\"end\"><ng-content select=\"[input-end]\"></ng-content></div>\n</ion-input>\n\n<span class=\"bizy-input__errors\" *ngIf=\"control && control.touched && control.invalid\">\n    <ng-content select=\"[input-error]\"></ng-content>\n</span>\n\n<ion-modal \n    #bizyInputDateTimeModal\n    trigger=\"{{id}}\"\n    class=\"bizy-date-input\"\n    *ngIf=\"type === 'date' || type === 'date-time' || type === 'time' || type === 'month-year' || type === 'year' || type === 'month'\">\n    <ng-template>\n\n        <ion-datetime \n            #bizyInputDateTime\n            [presentation]=\"type\" \n            [firstDayOfWeek]=\"1\"\n            [min]=\"min\"\n            [max]=\"max\"\n            locale=\"es-AR\"\n            hourCycle=\"h24\"\n            [showDefaultButtons]=\"true\"\n            [cancelText]=\"cancelLabel\"\n            [doneText]=\"confirmLabel\"\n            [value]=\"control?.value\">\n\n            <bizy-confirm-buttons\n                slot=\"buttons\"\n                (cancel)=\"cancel(bizyInputDateTimeModal, bizyInputDateTime)\"\n                (confirm)=\"confirm(bizyInputDateTimeModal, bizyInputDateTime)\">\n            </bizy-confirm-buttons>\n        </ion-datetime>\n\n    </ng-template>\n</ion-modal>\n\n", styles: [":host{font-size:1rem;width:100%}::ng-deep .bizy-input{--color: var(--bizy-input-color) !important;--background: var(--bizy-input-background-color) !important;--placeholder-color: var(--bizy-input-placeholder-color) !important;--placeholder-opacity: .8 !important;--padding-start: .3rem !important;--padding-end: .3rem !important;--inner-padding-end: 0 !important;--border-radius: .3rem .3rem 0 0 !important;border-bottom:.1rem solid var(--bizy-input-color)}::ng-deep .bizy-input__errors{margin-top:.5rem;display:flex;flex-direction:column;row-gap:.3rem}::ng-deep .bizy-input--error{border-bottom-color:var(--bizy-input-error-color)!important}::ng-deep .bizy-input--error [slot=label]{color:var(--bizy-input-error-color)!important}::ng-deep .bizy-input [slot=label]{color:var(--bizy-input-label-color)}::ng-deep .bizy-input [slot=start]{margin-inline-start:0!important;margin-inline-end:0!important}::ng-deep .bizy-input [slot=end]{margin-inline-start:0!important;margin-inline-end:0!important}::ng-deep .input-clear-icon.sc-ion-input-ios{width:auto!important;height:auto!important}::ng-deep .bizy-date-input{--width: auto !important;--height: auto !important}::ng-deep ion-datetime{--ion-color-base: var(--bizy-input-date-color);--ion-color-contrast: var(--bizy-input-date-contrast-color) !important}\n"] }]
        }], ctorParameters: function () { return [{ type: i0.ChangeDetectorRef, decorators: [{
                    type: Inject,
                    args: [ChangeDetectorRef]
                }] }]; }, propDecorators: { bizyInput: [{
                type: ViewChild,
                args: ['bizyInput']
            }], id: [{
                type: Input
            }], disabled: [{
                type: Input
            }], readonly: [{
                type: Input
            }], multiple: [{
                type: Input
            }], clear: [{
                type: Input
            }], autoFocus: [{
                type: Input
            }], autoCapitalize: [{
                type: Input
            }], autoCorrect: [{
                type: Input
            }], browserAutoComplete: [{
                type: Input
            }], type: [{
                type: Input
            }], label: [{
                type: Input
            }], max: [{
                type: Input
            }], maxLength: [{
                type: Input
            }], min: [{
                type: Input
            }], minLength: [{
                type: Input
            }], control: [{
                type: Input
            }], placeholder: [{
                type: Input
            }], cancelLabel: [{
                type: Input
            }], confirmLabel: [{
                type: Input
            }], customClass: [{
                type: Input
            }], onFocus: [{
                type: Output
            }], enter: [{
                type: Output
            }], onBlur: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5wdXQuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvY29tcG9uZW50cy9zcmMvbGliL2lucHV0L2lucHV0LmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2NvbXBvbmVudHMvc3JjL2xpYi9pbnB1dC9pbnB1dC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSx1QkFBdUIsRUFBRSxpQkFBaUIsRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxNQUFNLGVBQWUsQ0FBQzs7Ozs7QUFXdEksTUFBTSxPQUFPLGNBQWM7SUEwQnNCO0lBekJ2QixTQUFTLENBQVc7SUFDbkMsRUFBRSxHQUFXLGNBQWMsSUFBSSxDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUM7SUFDM0MsUUFBUSxHQUFZLEtBQUssQ0FBQztJQUMxQixRQUFRLEdBQVksS0FBSyxDQUFDO0lBQzFCLFFBQVEsR0FBWSxLQUFLLENBQUM7SUFDMUIsS0FBSyxHQUFZLElBQUksQ0FBQztJQUN0QixTQUFTLEdBQVksSUFBSSxDQUFDO0lBQzFCLGNBQWMsR0FBWSxLQUFLLENBQUM7SUFDaEMsV0FBVyxHQUFZLEtBQUssQ0FBQztJQUM3QixtQkFBbUIsR0FBWSxJQUFJLENBQUM7SUFDcEMsSUFBSSxHQUFrSSxNQUFNLENBQUM7SUFDN0ksS0FBSyxHQUFXLEVBQUUsQ0FBQztJQUNuQixHQUFHLENBQVM7SUFDWixTQUFTLENBQVM7SUFDbEIsR0FBRyxDQUFTO0lBQ1osU0FBUyxDQUFTO0lBQ2xCLE9BQU8sQ0FBYztJQUNyQixXQUFXLEdBQVcsRUFBRSxDQUFDO0lBQ3pCLFdBQVcsR0FBVyxVQUFVLENBQUM7SUFDakMsWUFBWSxHQUFXLFdBQVcsQ0FBQztJQUNuQyxXQUFXLENBQVM7SUFDbkIsT0FBTyxHQUFHLElBQUks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QUFuQixLQUFLO2dCQUNJLE9BQU87c0JBQWhCLE1BQU07Z0JBQ0csS0FBSztzQkFBZCxNQUFNO2dCQUNHLE1BQU07c0JBQWYsTUFBTSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENoYW5nZURldGVjdGlvblN0cmF0ZWd5LCBDaGFuZ2VEZXRlY3RvclJlZiwgQ29tcG9uZW50LCBFdmVudEVtaXR0ZXIsIEluamVjdCwgSW5wdXQsIE91dHB1dCwgVmlld0NoaWxkIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBGb3JtQ29udHJvbCB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCB7IElvbkRhdGV0aW1lLCBJb25JbnB1dCB9IGZyb20gJ0Bpb25pYy9hbmd1bGFyJztcbmltcG9ydCB7IElvbk1vZGFsIH0gZnJvbSAnQGlvbmljL2FuZ3VsYXIvY29tbW9uJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYml6eS1pbnB1dCcsXG4gIHRlbXBsYXRlVXJsOiAnLi9pbnB1dC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vaW5wdXQuY3NzJ10sXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoXG59KVxuZXhwb3J0IGNsYXNzIElucHV0Q29tcG9uZW50IHtcbiAgQFZpZXdDaGlsZCgnYml6eUlucHV0JykgYml6eUlucHV0OiBJb25JbnB1dDtcbiAgQElucHV0KCkgaWQ6IHN0cmluZyA9IGBiaXp5LWlucHV0LSR7TWF0aC5yYW5kb20oKX1gO1xuICBASW5wdXQoKSBkaXNhYmxlZDogYm9vbGVhbiA9IGZhbHNlO1xuICBASW5wdXQoKSByZWFkb25seTogYm9vbGVhbiA9IGZhbHNlO1xuICBASW5wdXQoKSBtdWx0aXBsZTogYm9vbGVhbiA9IGZhbHNlO1xuICBASW5wdXQoKSBjbGVhcjogYm9vbGVhbiA9IHRydWU7XG4gIEBJbnB1dCgpIGF1dG9Gb2N1czogYm9vbGVhbiA9IHRydWU7XG4gIEBJbnB1dCgpIGF1dG9DYXBpdGFsaXplOiBib29sZWFuID0gZmFsc2U7XG4gIEBJbnB1dCgpIGF1dG9Db3JyZWN0OiBib29sZWFuID0gZmFsc2U7XG4gIEBJbnB1dCgpIGJyb3dzZXJBdXRvQ29tcGxldGU6IGJvb2xlYW4gPSB0cnVlO1xuICBASW5wdXQoKSB0eXBlOiAndGV4dCcgfCAnZGF0ZScgfCAnZGF0ZS10aW1lJyB8ICd0aW1lJyB8ICdtb250aC15ZWFyJyB8ICdtb250aCcgfCAneWVhcicgfCAncGFzc3dvcmQnIHwgJ2VtYWlsJyB8ICdudW1iZXInIHwgJ3NlYXJjaCcgfCAndGVsJyA9ICd0ZXh0JztcbiAgQElucHV0KCkgbGFiZWw6IHN0cmluZyA9ICcnO1xuICBASW5wdXQoKSBtYXg6IG51bWJlcjtcbiAgQElucHV0KCkgbWF4TGVuZ3RoOiBudW1iZXI7XG4gIEBJbnB1dCgpIG1pbjogbnVtYmVyO1xuICBASW5wdXQoKSBtaW5MZW5ndGg6IG51bWJlcjtcbiAgQElucHV0KCkgY29udHJvbDogRm9ybUNvbnRyb2w7XG4gIEBJbnB1dCgpIHBsYWNlaG9sZGVyOiBzdHJpbmcgPSAnJztcbiAgQElucHV0KCkgY2FuY2VsTGFiZWw6IHN0cmluZyA9ICdDYW5jZWxhcic7XG4gIEBJbnB1dCgpIGNvbmZpcm1MYWJlbDogc3RyaW5nID0gJ0NvbmZpcm1hcic7XG4gIEBJbnB1dCgpIGN1c3RvbUNsYXNzOiBzdHJpbmc7XG4gIEBPdXRwdXQoKSBvbkZvY3VzID0gbmV3IEV2ZW50RW1pdHRlcjx2b2lkPigpO1xuICBAT3V0cHV0KCkgZW50ZXIgPSBuZXcgRXZlbnRFbWl0dGVyPHZvaWQ+KCk7XG4gIEBPdXRwdXQoKSBvbkJsdXIgPSBuZXcgRXZlbnRFbWl0dGVyPHZvaWQ+KCk7XG5cbiAgY29uc3RydWN0b3IoQEluamVjdChDaGFuZ2VEZXRlY3RvclJlZikgcHJpdmF0ZSByZWY6IENoYW5nZURldGVjdG9yUmVmKSB7fVxuXG4gIG9uSW5wdXQgPSAoZXZlbnQ6IHt0YXJnZXQ6IHt2YWx1ZTogc3RyaW5nIHwgbnVtYmVyfX0pID0+IHtcbiAgICBpZiAoIWV2ZW50IHx8ICFldmVudC50YXJnZXQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmNvbnRyb2wubWFya0FzVG91Y2hlZCgpO1xuICAgIHRoaXMuY29udHJvbC5zZXRWYWx1ZShldmVudC50YXJnZXQudmFsdWUgPz8gbnVsbCk7XG4gICAgdGhpcy5yZWYuZGV0ZWN0Q2hhbmdlcygpO1xuICB9XG5cbiAgX29uQmx1cigpIHtcbiAgICB0aGlzLmNvbnRyb2wubWFya0FzVG91Y2hlZCgpO1xuICAgIHRoaXMub25CbHVyLmVtaXQoKTtcbiAgfVxuXG4gIGZvY3VzKCkge1xuICAgIGlmICghdGhpcy5iaXp5SW5wdXQgfHwgIXRoaXMuYml6eUlucHV0LnNldEZvY3VzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5iaXp5SW5wdXQuc2V0Rm9jdXMoKTtcbiAgfVxuXG4gIGNhbmNlbChtb2RhbDogSW9uTW9kYWwsIGRhdGVUaW1lOiBJb25EYXRldGltZSkge1xuICAgIGlmICghbW9kYWwgfHwgIWRhdGVUaW1lKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZGF0ZVRpbWUuY2FuY2VsKCk7XG4gICAgbW9kYWwuZGlzbWlzcygpO1xuICB9XG5cbiAgY29uZmlybShtb2RhbDogSW9uTW9kYWwsIGRhdGVUaW1lOiBJb25EYXRldGltZSkge1xuICAgIGlmICghbW9kYWwgfHwgIWRhdGVUaW1lIHx8ICFkYXRlVGltZS52YWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGRhdGVUaW1lLmNvbmZpcm0oKTtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5vbklucHV0KHt0YXJnZXQ6IHt2YWx1ZTogU3RyaW5nKGRhdGVUaW1lLnZhbHVlKSB9fSlcbiAgICAgIG1vZGFsLmRpc21pc3MoKTtcbiAgICB9LCAxKVxuICB9XG59IiwiPGlvbi1pbnB1dCBcbiAgICAjYml6eUlucHV0XG4gICAgKm5nSWY9XCJ0eXBlICE9PSAnZGF0ZScgJiYgdHlwZSAhPT0gJ2RhdGUtdGltZScgJiYgdHlwZSAhPT0gJ3RpbWUnICYmIHR5cGUgIT09ICdtb250aC15ZWFyJyAmJiB0eXBlICE9PSAneWVhcicgJiYgdHlwZSAhPT0gJ21vbnRoJyAmJiB0eXBlICE9PSAnc2VhcmNoJ1wiXG4gICAgY2xhc3M9XCJiaXp5LWlucHV0IHt7Y3VzdG9tQ2xhc3N9fVwiXG4gICAgW25nQ2xhc3NdPVwieydiaXp5LWlucHV0LS1lcnJvcic6IGNvbnRyb2wgJiYgY29udHJvbC50b3VjaGVkICYmIGNvbnRyb2wuaW52YWxpZH1cIlxuICAgIFt0eXBlXT1cInR5cGVcIlxuICAgIFtpbnB1dG1vZGVdPVwidHlwZVwiXG4gICAgaWQ9XCJ7e2lkfX1cIlxuICAgIFtkaXNhYmxlZF09XCJkaXNhYmxlZFwiXG4gICAgW3JlYWRvbmx5XT1cInJlYWRvbmx5XCJcbiAgICBbdmFsdWVdPVwiY29udHJvbD8udmFsdWVcIlxuICAgIFtzcGVsbGNoZWNrXT1cInRydWVcIlxuICAgIFthdXRvY2FwaXRhbGl6ZV09XCJhdXRvQ2FwaXRhbGl6ZSA/ICdvbicgOiAnb2ZmJ1wiXG4gICAgW2F1dG9jb3JyZWN0XT1cImF1dG9Db3JyZWN0ID8gJ29uJyA6ICdvZmYnXCJcbiAgICBbYXV0b2NvbXBsZXRlXT1cImJyb3dzZXJBdXRvQ29tcGxldGUgPyAnb24nIDogJ29mZidcIlxuICAgIFthdXRvZm9jdXNdPVwiYXV0b0ZvY3VzXCJcbiAgICBmaWxsPVwic29saWRcIlxuICAgIFttYXhdPVwibWF4XCJcbiAgICBbbWF4bGVuZ3RoXT1cIm1heExlbmd0aFwiXG4gICAgW21pbl09XCJtaW5cIlxuICAgIFttaW5sZW5ndGhdPVwibWluTGVuZ3RoXCJcbiAgICBbZGVib3VuY2VdPVwiMzAwXCJcbiAgICAoaW9uQmx1cik9XCJfb25CbHVyKClcIlxuICAgIChpb25JbnB1dCk9XCJvbklucHV0KCRldmVudClcIlxuICAgIChrZXl1cC5lbnRlcik9XCJlbnRlci5lbWl0KClcIlxuICAgIFtjbGVhcklucHV0XT1cImNsZWFyXCJcbiAgICBbcGxhY2Vob2xkZXJdPVwicGxhY2Vob2xkZXJcIlxuICAgIGxhYmVsUGxhY2VtZW50PVwic3RhY2tlZFwiPlxuICAgIDxkaXYgc2xvdD1cInN0YXJ0XCI+PG5nLWNvbnRlbnQgc2VsZWN0PVwiW2lucHV0LXN0YXJ0XVwiPjwvbmctY29udGVudD48L2Rpdj5cbiAgICA8aDQgc2xvdD1cImxhYmVsXCI+e3tsYWJlbH19IDxuZy1jb250ZW50IHNlbGVjdD1cIltpbnB1dC1sYWJlbF1cIj48L25nLWNvbnRlbnQ+PC9oND5cbiAgICA8ZGl2IHNsb3Q9XCJlbmRcIj48bmctY29udGVudCBzZWxlY3Q9XCJbaW5wdXQtZW5kXVwiPjwvbmctY29udGVudD48L2Rpdj5cbjwvaW9uLWlucHV0PlxuXG48aW9uLWlucHV0IFxuICAgICpuZ0lmPVwidHlwZSA9PT0gJ2RhdGUnIHx8IHR5cGUgPT09ICdkYXRlLXRpbWUnIHx8IHR5cGUgPT09ICd0aW1lJyB8fCB0eXBlID09PSAnbW9udGgteWVhcicgfHwgdHlwZSA9PT0gJ3llYXInIHx8IHR5cGUgPT09ICdtb250aCdcIlxuICAgIGNsYXNzPVwiYml6eS1pbnB1dCB7e2N1c3RvbUNsYXNzfX1cIlxuICAgIFtuZ0NsYXNzXT1cInsnYml6eS1pbnB1dC0tZXJyb3InOiBjb250cm9sICYmIGNvbnRyb2wudG91Y2hlZCAmJiBjb250cm9sLmludmFsaWR9XCJcbiAgICB0eXBlPVwidGV4dFwiXG4gICAgaWQ9XCJ7e2lkfX1cIlxuICAgIFtkaXNhYmxlZF09XCJkaXNhYmxlZFwiXG4gICAgW3JlYWRvbmx5XT1cInRydWVcIlxuICAgIFt2YWx1ZV09XCJjb250cm9sPy52YWx1ZSB8IGRhdGUgOiAodHlwZSA9PT0gJ2RhdGUnID8gJ2RkL01NL3l5eXknIDogdHlwZSA9PT0gJ2RhdGUtdGltZScgPyAnZGQvTU0veXl5eSBoaDptbScgOiB0eXBlID09PSAndGltZScgPyAnaGg6bW0nIDogdHlwZSA9PT0gJ21vbnRoLXllYXInID8gJ01NTU0geXl5eScgOiB0eXBlID09PSAneWVhcicgPyAneXl5eScgOiAnTU1NTScpXCJcbiAgICBmaWxsPVwic29saWRcIlxuICAgIChpb25CbHVyKT1cIl9vbkJsdXIoKVwiXG4gICAgW2NsZWFySW5wdXRdPVwiY2xlYXJcIlxuICAgIFtwbGFjZWhvbGRlcl09XCJwbGFjZWhvbGRlclwiXG4gICAgbGFiZWxQbGFjZW1lbnQ9XCJzdGFja2VkXCI+XG4gICAgPGRpdiBzbG90PVwic3RhcnRcIj48bmctY29udGVudCBzZWxlY3Q9XCJbaW5wdXQtc3RhcnRdXCI+PC9uZy1jb250ZW50PjwvZGl2PlxuICAgIDxoNCBzbG90PVwibGFiZWxcIj57e2xhYmVsfX0gPG5nLWNvbnRlbnQgc2VsZWN0PVwiW2lucHV0LWxhYmVsXVwiPjwvbmctY29udGVudD48L2g0PlxuICAgIDxkaXYgc2xvdD1cImVuZFwiPjxuZy1jb250ZW50IHNlbGVjdD1cIltpbnB1dC1lbmRdXCI+PC9uZy1jb250ZW50PjwvZGl2PlxuPC9pb24taW5wdXQ+XG5cbjxzcGFuIGNsYXNzPVwiYml6eS1pbnB1dF9fZXJyb3JzXCIgKm5nSWY9XCJjb250cm9sICYmIGNvbnRyb2wudG91Y2hlZCAmJiBjb250cm9sLmludmFsaWRcIj5cbiAgICA8bmctY29udGVudCBzZWxlY3Q9XCJbaW5wdXQtZXJyb3JdXCI+PC9uZy1jb250ZW50PlxuPC9zcGFuPlxuXG48aW9uLW1vZGFsIFxuICAgICNiaXp5SW5wdXREYXRlVGltZU1vZGFsXG4gICAgdHJpZ2dlcj1cInt7aWR9fVwiXG4gICAgY2xhc3M9XCJiaXp5LWRhdGUtaW5wdXRcIlxuICAgICpuZ0lmPVwidHlwZSA9PT0gJ2RhdGUnIHx8IHR5cGUgPT09ICdkYXRlLXRpbWUnIHx8IHR5cGUgPT09ICd0aW1lJyB8fCB0eXBlID09PSAnbW9udGgteWVhcicgfHwgdHlwZSA9PT0gJ3llYXInIHx8IHR5cGUgPT09ICdtb250aCdcIj5cbiAgICA8bmctdGVtcGxhdGU+XG5cbiAgICAgICAgPGlvbi1kYXRldGltZSBcbiAgICAgICAgICAgICNiaXp5SW5wdXREYXRlVGltZVxuICAgICAgICAgICAgW3ByZXNlbnRhdGlvbl09XCJ0eXBlXCIgXG4gICAgICAgICAgICBbZmlyc3REYXlPZldlZWtdPVwiMVwiXG4gICAgICAgICAgICBbbWluXT1cIm1pblwiXG4gICAgICAgICAgICBbbWF4XT1cIm1heFwiXG4gICAgICAgICAgICBsb2NhbGU9XCJlcy1BUlwiXG4gICAgICAgICAgICBob3VyQ3ljbGU9XCJoMjRcIlxuICAgICAgICAgICAgW3Nob3dEZWZhdWx0QnV0dG9uc109XCJ0cnVlXCJcbiAgICAgICAgICAgIFtjYW5jZWxUZXh0XT1cImNhbmNlbExhYmVsXCJcbiAgICAgICAgICAgIFtkb25lVGV4dF09XCJjb25maXJtTGFiZWxcIlxuICAgICAgICAgICAgW3ZhbHVlXT1cImNvbnRyb2w/LnZhbHVlXCI+XG5cbiAgICAgICAgICAgIDxiaXp5LWNvbmZpcm0tYnV0dG9uc1xuICAgICAgICAgICAgICAgIHNsb3Q9XCJidXR0b25zXCJcbiAgICAgICAgICAgICAgICAoY2FuY2VsKT1cImNhbmNlbChiaXp5SW5wdXREYXRlVGltZU1vZGFsLCBiaXp5SW5wdXREYXRlVGltZSlcIlxuICAgICAgICAgICAgICAgIChjb25maXJtKT1cImNvbmZpcm0oYml6eUlucHV0RGF0ZVRpbWVNb2RhbCwgYml6eUlucHV0RGF0ZVRpbWUpXCI+XG4gICAgICAgICAgICA8L2JpenktY29uZmlybS1idXR0b25zPlxuICAgICAgICA8L2lvbi1kYXRldGltZT5cblxuICAgIDwvbmctdGVtcGxhdGU+XG48L2lvbi1tb2RhbD5cblxuIl19