import { Component, ViewChild, ChangeDetectionStrategy, Inject, ElementRef, } from '@angular/core';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
import * as i2 from "@angular/cdk/scrolling";
// FIX: This components fixes the bug with Angular CDK virtual scrolling not supporting content projection.
// https://github.com/angular/components/issues/15277
export class BizyTableScrollingComponent {
    elementRef;
    content;
    #view;
    items$;
    itemTemplate;
    itemSize;
    constructor(elementRef) {
        this.elementRef = elementRef;
    }
    /** Called by the virtual-for directive inside of the viewport. */
    attachView(tableDirective) {
        if (this.#view) {
            return;
        }
        const fontSize = window
            .getComputedStyle(this.elementRef.nativeElement)
            .getPropertyValue('font-size');
        this.itemSize = (Number(fontSize.split('px')[0]) || 14) * 2;
        this.items$ = tableDirective.items$;
        this.itemTemplate = tableDirective.template;
        this.#view = tableDirective.viewContainerRef;
        this.#view.createEmbeddedView(this.content);
    }
    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: BizyTableScrollingComponent, deps: [{ token: ElementRef }], target: i0.ɵɵFactoryTarget.Component });
    static ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.2.12", type: BizyTableScrollingComponent, selector: "bizy-table-scrolling", viewQueries: [{ propertyName: "content", first: true, predicate: ["tableScrollingContent"], descendants: true }], ngImport: i0, template: "<cdk-virtual-scroll-viewport \n    [itemSize]=\"itemSize\"\n    [minBufferPx]=\"itemSize + (itemSize * 20)\"\n    [maxBufferPx]=\"itemSize + (itemSize * 40)\">\n    \n    <ng-content></ng-content>\n\n    <ng-template #tableScrollingContent>\n      <ng-template let-item cdkVirtualFor [cdkVirtualForOf]=\"items$ | async\">\n        <ng-template *ngTemplateOutlet=\"itemTemplate; context: { $implicit: item }\"></ng-template>\n      </ng-template>\n    </ng-template>\n</cdk-virtual-scroll-viewport>", styles: ["::ng-deep .cdk-virtual-scrollable{height:100%;width:100%;overflow-y:scroll!important;overflow-x:hidden!important;contain:inline-size!important}\n"], dependencies: [{ kind: "directive", type: i1.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet", "ngTemplateOutletInjector"] }, { kind: "directive", type: i2.CdkFixedSizeVirtualScroll, selector: "cdk-virtual-scroll-viewport[itemSize]", inputs: ["itemSize", "minBufferPx", "maxBufferPx"] }, { kind: "directive", type: i2.CdkVirtualForOf, selector: "[cdkVirtualFor][cdkVirtualForOf]", inputs: ["cdkVirtualForOf", "cdkVirtualForTrackBy", "cdkVirtualForTemplate", "cdkVirtualForTemplateCacheSize"] }, { kind: "component", type: i2.CdkVirtualScrollViewport, selector: "cdk-virtual-scroll-viewport", inputs: ["orientation", "appendOnly"], outputs: ["scrolledIndexChange"] }, { kind: "pipe", type: i1.AsyncPipe, name: "async" }], changeDetection: i0.ChangeDetectionStrategy.OnPush });
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: BizyTableScrollingComponent, decorators: [{
            type: Component,
            args: [{ selector: 'bizy-table-scrolling', changeDetection: ChangeDetectionStrategy.OnPush, template: "<cdk-virtual-scroll-viewport \n    [itemSize]=\"itemSize\"\n    [minBufferPx]=\"itemSize + (itemSize * 20)\"\n    [maxBufferPx]=\"itemSize + (itemSize * 40)\">\n    \n    <ng-content></ng-content>\n\n    <ng-template #tableScrollingContent>\n      <ng-template let-item cdkVirtualFor [cdkVirtualForOf]=\"items$ | async\">\n        <ng-template *ngTemplateOutlet=\"itemTemplate; context: { $implicit: item }\"></ng-template>\n      </ng-template>\n    </ng-template>\n</cdk-virtual-scroll-viewport>", styles: ["::ng-deep .cdk-virtual-scrollable{height:100%;width:100%;overflow-y:scroll!important;overflow-x:hidden!important;contain:inline-size!important}\n"] }]
        }], ctorParameters: function () { return [{ type: i0.ElementRef, decorators: [{
                    type: Inject,
                    args: [ElementRef]
                }] }]; }, propDecorators: { content: [{
                type: ViewChild,
                args: ['tableScrollingContent']
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFibGUtc2Nyb2xsaW5nLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2NvbXBvbmVudHMvc3JjL2xpYi90YWJsZS90YWJsZS1zY3JvbGxpbmcvdGFibGUtc2Nyb2xsaW5nLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2NvbXBvbmVudHMvc3JjL2xpYi90YWJsZS90YWJsZS1zY3JvbGxpbmcvdGFibGUtc2Nyb2xsaW5nLmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUNMLFNBQVMsRUFFVCxTQUFTLEVBQ1QsdUJBQXVCLEVBRXZCLE1BQU0sRUFDTixVQUFVLEdBQ1gsTUFBTSxlQUFlLENBQUM7Ozs7QUFZdkIsMkdBQTJHO0FBQzNHLHFEQUFxRDtBQUNyRCxNQUFNLE9BQU8sMkJBQTJCO0lBVVI7SUFUTSxPQUFPLENBQXNCO0lBRWpFLEtBQUssQ0FBbUI7SUFDeEIsTUFBTSxDQUFtQztJQUN6QyxZQUFZLENBQXFDO0lBRWpELFFBQVEsQ0FBUztJQUVqQixZQUM4QixVQUFzQjtRQUF0QixlQUFVLEdBQVYsVUFBVSxDQUFZO0lBQ2pELENBQUM7SUFFSixrRUFBa0U7SUFDM0QsVUFBVSxDQUFDLGNBQTJDO1FBQzNELElBQUksSUFBSSxDQUFDLEtBQUssRUFBRTtZQUNkLE9BQU87U0FDUjtRQUVELE1BQU0sUUFBUSxHQUFHLE1BQU07YUFDcEIsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxhQUFhLENBQUM7YUFDL0MsZ0JBQWdCLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDakMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzVELElBQUksQ0FBQyxNQUFNLEdBQUcsY0FBYyxDQUFDLE1BQU0sQ0FBQztRQUNwQyxJQUFJLENBQUMsWUFBWSxHQUFHLGNBQWMsQ0FBQyxRQUFRLENBQUM7UUFDNUMsSUFBSSxDQUFDLEtBQUssR0FBRyxjQUFjLENBQUMsZ0JBQWdCLENBQUM7UUFDN0MsSUFBSSxDQUFDLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDOUMsQ0FBQzt3R0EzQlUsMkJBQTJCLGtCQVU1QixVQUFVOzRGQVZULDJCQUEyQiw4S0N2QnhDLG1mQVk4Qjs7NEZEV2pCLDJCQUEyQjtrQkFUdkMsU0FBUzsrQkFDRSxzQkFBc0IsbUJBR2YsdUJBQXVCLENBQUMsTUFBTTs7MEJBZTVDLE1BQU07MkJBQUMsVUFBVTs0Q0FUZ0IsT0FBTztzQkFBMUMsU0FBUzt1QkFBQyx1QkFBdUIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQge1xuICBDb21wb25lbnQsXG4gIFRlbXBsYXRlUmVmLFxuICBWaWV3Q2hpbGQsXG4gIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LFxuICBWaWV3Q29udGFpbmVyUmVmLFxuICBJbmplY3QsXG4gIEVsZW1lbnRSZWYsXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQml6eVRhYmxlUm93Q29tcG9uZW50IH0gZnJvbSAnLi4vdGFibGUtcm93L3RhYmxlLXJvdy5jb21wb25lbnQnO1xuaW1wb3J0IHsgQml6eVRhYmxlU2Nyb2xsaW5nRGlyZWN0aXZlIH0gZnJvbSAnLi90YWJsZS1zY3JvbGxpbmcuZGlyZWN0aXZlJztcbmltcG9ydCB7IElCaXp5VGFibGVSb3cgfSBmcm9tICcuLi90YWJsZS50eXBlcyc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2JpenktdGFibGUtc2Nyb2xsaW5nJyxcbiAgdGVtcGxhdGVVcmw6ICcuL3RhYmxlLXNjcm9sbGluZy5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vdGFibGUtc2Nyb2xsaW5nLmNzcyddLFxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbn0pXG5cbi8vIEZJWDogVGhpcyBjb21wb25lbnRzIGZpeGVzIHRoZSBidWcgd2l0aCBBbmd1bGFyIENESyB2aXJ0dWFsIHNjcm9sbGluZyBub3Qgc3VwcG9ydGluZyBjb250ZW50IHByb2plY3Rpb24uXG4vLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9jb21wb25lbnRzL2lzc3Vlcy8xNTI3N1xuZXhwb3J0IGNsYXNzIEJpenlUYWJsZVNjcm9sbGluZ0NvbXBvbmVudCB7XG4gIEBWaWV3Q2hpbGQoJ3RhYmxlU2Nyb2xsaW5nQ29udGVudCcpIGNvbnRlbnQ6IFRlbXBsYXRlUmVmPG9iamVjdD47XG5cbiAgI3ZpZXc6IFZpZXdDb250YWluZXJSZWY7XG4gIGl0ZW1zJDogT2JzZXJ2YWJsZTxBcnJheTxJQml6eVRhYmxlUm93Pj47XG4gIGl0ZW1UZW1wbGF0ZTogVGVtcGxhdGVSZWY8Qml6eVRhYmxlUm93Q29tcG9uZW50PjtcblxuICBpdGVtU2l6ZTogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIEBJbmplY3QoRWxlbWVudFJlZikgcHJpdmF0ZSBlbGVtZW50UmVmOiBFbGVtZW50UmVmXG4gICkge31cblxuICAvKiogQ2FsbGVkIGJ5IHRoZSB2aXJ0dWFsLWZvciBkaXJlY3RpdmUgaW5zaWRlIG9mIHRoZSB2aWV3cG9ydC4gKi9cbiAgcHVibGljIGF0dGFjaFZpZXcodGFibGVEaXJlY3RpdmU6IEJpenlUYWJsZVNjcm9sbGluZ0RpcmVjdGl2ZSkge1xuICAgIGlmICh0aGlzLiN2aWV3KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGZvbnRTaXplID0gd2luZG93XG4gICAgICAuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudClcbiAgICAgIC5nZXRQcm9wZXJ0eVZhbHVlKCdmb250LXNpemUnKTtcbiAgICB0aGlzLml0ZW1TaXplID0gKE51bWJlcihmb250U2l6ZS5zcGxpdCgncHgnKVswXSkgfHwgMTQpICogMjtcbiAgICB0aGlzLml0ZW1zJCA9IHRhYmxlRGlyZWN0aXZlLml0ZW1zJDtcbiAgICB0aGlzLml0ZW1UZW1wbGF0ZSA9IHRhYmxlRGlyZWN0aXZlLnRlbXBsYXRlO1xuICAgIHRoaXMuI3ZpZXcgPSB0YWJsZURpcmVjdGl2ZS52aWV3Q29udGFpbmVyUmVmO1xuICAgIHRoaXMuI3ZpZXcuY3JlYXRlRW1iZWRkZWRWaWV3KHRoaXMuY29udGVudCk7XG4gIH1cbn1cbiIsIjxjZGstdmlydHVhbC1zY3JvbGwtdmlld3BvcnQgXG4gICAgW2l0ZW1TaXplXT1cIml0ZW1TaXplXCJcbiAgICBbbWluQnVmZmVyUHhdPVwiaXRlbVNpemUgKyAoaXRlbVNpemUgKiAyMClcIlxuICAgIFttYXhCdWZmZXJQeF09XCJpdGVtU2l6ZSArIChpdGVtU2l6ZSAqIDQwKVwiPlxuICAgIFxuICAgIDxuZy1jb250ZW50PjwvbmctY29udGVudD5cblxuICAgIDxuZy10ZW1wbGF0ZSAjdGFibGVTY3JvbGxpbmdDb250ZW50PlxuICAgICAgPG5nLXRlbXBsYXRlIGxldC1pdGVtIGNka1ZpcnR1YWxGb3IgW2Nka1ZpcnR1YWxGb3JPZl09XCJpdGVtcyQgfCBhc3luY1wiPlxuICAgICAgICA8bmctdGVtcGxhdGUgKm5nVGVtcGxhdGVPdXRsZXQ9XCJpdGVtVGVtcGxhdGU7IGNvbnRleHQ6IHsgJGltcGxpY2l0OiBpdGVtIH1cIj48L25nLXRlbXBsYXRlPlxuICAgICAgPC9uZy10ZW1wbGF0ZT5cbiAgICA8L25nLXRlbXBsYXRlPlxuPC9jZGstdmlydHVhbC1zY3JvbGwtdmlld3BvcnQ+Il19