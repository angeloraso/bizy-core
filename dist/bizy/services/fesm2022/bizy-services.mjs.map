{"version":3,"file":"bizy-services.mjs","sources":["../../../../projects/services/src/lib/user-agent/uach-retrofill.ts","../../../../projects/services/src/lib/user-agent/user-agent.service.ts","../../../../projects/services/src/lib/validator.service.ts","../../../../projects/services/src/lib/storage.service.ts","../../../../projects/services/src/lib/log.service.ts","../../../../projects/services/src/lib/router.service.ts","../../../../projects/services/src/bizy-services.ts"],"sourcesContent":["/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// This function's role is to enable smooth transition to the brave new world of\n// User-Agent Client Hints. If you have legacy code that relies on\n// `navigator.userAgent` and which relies on entropy that will go away by\n// default, you *need* to refactor it to use UA-CH. This function is to be used\n// as a stop gap, to enable smooth transition during that period.\n/**\n* @param {string[]} hints\n* @return {Promise<string|undefined>} A Promise that resolves to a string if a\n*   UA could be synthesized from client hints, otherwise undefined.\n*/\nasync function getUserAgentUsingClientHints(hints: ['architecture', 'bitness', 'model', 'platformVersion', 'uaFullVersion', 'fullVersionList']): Promise<string> {\n  // Helper functions for platform specific strings\n  const GetCrosSpecificString = (values: { bitness: string; architecture: string; platformVersion: any; }) => {\n    let osCPUFragment = '';\n    if (values.bitness == '64') {\n      if (values.architecture == 'x86') {\n        osCPUFragment = 'x86_64';\n      } else if (values.architecture == 'arm') {\n        osCPUFragment = 'aarch64';\n      }\n    } else if (values.architecture == 'arm' && values.bitness == '32') {\n      osCPUFragment = 'armv7l';\n    }\n\n    if (osCPUFragment == '') {\n      return `X11; CrOS ${values.platformVersion}`;\n    }\n\n    return `X11; CrOS ${osCPUFragment} ${values.platformVersion}`;\n  };\n\n  const GetWindowsSpecificString = (values: { architecture: string; bitness: string; wow64: boolean; platformVersion: any; }) => {\n    let osCPUFragment = '';\n    if (values.architecture == 'x86' && values.bitness == '64') {\n      osCPUFragment = '; Win64; x64';\n    } else if (values.architecture == 'arm') {\n      osCPUFragment = '; ARM';\n    } else if (values.wow64 === true) {\n      osCPUFragment = '; WOW64';\n    }\n\n    return `Windows NT ${getWindowsPlatformVersion(\n      values.platformVersion\n    )}${osCPUFragment}`;\n  };\n\n  const GetMacSpecificString = (values: { architecture: string; platformVersion: any; }) => {\n    let newUA = 'Macintosh;';\n    newUA += values.architecture === 'arm' ? ' ARM ' : ' Intel ';\n    newUA += 'Mac OS X ';\n    let macVersion = values.platformVersion;\n    if (macVersion.indexOf('.') > -1) {\n      macVersion = macVersion.split('.').join('_');\n    }\n\n    newUA += macVersion;\n    return newUA;\n  };\n\n  const GetAndroidSpecificString = (values: { platformVersion: string; model: string; }) => {\n    let newUA = 'Linux; Android ';\n    newUA += values.platformVersion;\n    if (values.model) {\n      newUA += '; ';\n      newUA += values.model;\n    }\n\n    return newUA;\n  };\n\n  const Initialize = (values: { architecture: string; bitness: string; model: string; platform: string; platformVersion: string; wow64: boolean; }) => {\n    if (!values.architecture) {\n      values.architecture = 'x86';\n    }\n\n    if (!values.bitness) {\n      values.bitness = '64';\n    }\n\n    if (!values.model) {\n      values.model = '';\n    }\n\n    if (!values.platform) {\n      values.platform = 'Windows';\n    }\n\n    if (!values.platformVersion) {\n      values.platformVersion = '10.0';\n    }\n\n    if (!values.wow64) {\n      values.wow64 = false;\n    }\n\n    return values;\n  };\n\n  // @ts-ignore-error\n  if (!navigator.userAgentData) {\n    return Promise.resolve('');\n  }\n\n  // Verify that this is a Chromium-based browser\n  let isChromium = false;\n  let chromiumVersion: number;\n  // eslint-disable-next-line prefer-regex-literals\n  const isChromeUAPattern = new RegExp(\n    'AppleWebKit/537.36 \\\\(KHTML, like Gecko\\\\) Chrome/\\\\d+.\\\\d+.\\\\d+.\\\\d+ (Mobile )?Safari/537.36$'\n  );\n    // @ts-ignore-error\n  navigator.userAgentData.brands.forEach(value => {\n    if (value.brand == 'Chromium') {\n      // Let's double check the UA string as well, so we don't accidentally\n      // capture a headless browser or friendly bot (which should report as\n      // HeadlessChrome or something entirely different).\n      isChromium = isChromeUAPattern.test(navigator.userAgent);\n      chromiumVersion = value.version;\n    }\n  });\n  // @ts-ignore\n  if (!isChromium || chromiumVersion < 100) {\n    // If this is not a Chromium-based browser, the UA string should be very\n    // different. Or, if this is a Chromium lower than 100, it doesn't have\n    // all the hints we rely on. So let's bail.\n    return Promise.resolve('');\n  }\n\n  // Main logic\n  return new Promise(resolve => {\n    // @ts-ignore-error\n    navigator.userAgentData.getHighEntropyValues(hints).then(values => {\n      let initialValues = {\n        // @ts-ignore-error\n        platform: navigator.userAgentData?.platform,\n        version: chromiumVersion\n      };\n      values = Object.assign(initialValues, values);\n      values = Initialize(values);\n      let newUA = 'Mozilla/5.0 (';\n      if (['Chrome OS', 'Chromium OS'].includes(values.platform)) {\n        newUA += GetCrosSpecificString(values);\n      } else if (values.platform == 'Windows') {\n        newUA += GetWindowsSpecificString(values);\n      } else if (values.platform == 'macOS') {\n        newUA += GetMacSpecificString(values);\n      } else if (values.platform == 'Android') {\n        newUA += GetAndroidSpecificString(values);\n      } else {\n        newUA += 'X11; Linux x86_64';\n      }\n\n      newUA += ') AppleWebKit/537.36 (KHTML, like Gecko) Chrome/';\n      newUA += getVersion(values?.fullVersionList, initialValues.version);\n      // @ts-ignore-error\n      if (navigator.userAgentData.mobile) {\n        newUA += ' Mobile';\n      }\n\n      newUA += ' Safari/537.36';\n      resolve(newUA);\n    });\n  });\n}\n\nfunction getVersion(fullVersionList: any[], majorVersion: any) {\n  // If we don't get a fullVersionList, or it's somehow undefined, return\n  // the reduced version number.\n  return (\n    fullVersionList?.find((item: { brand: string; }) => item.brand == 'Google Chrome')?.version ||\n      `${majorVersion}.0.0.0`\n  );\n}\n\nfunction getWindowsPlatformVersion(platformVersion: string) {\n  // https://wicg.github.io/ua-client-hints/#get-the-legacy-windows-version-number\n  const versionMap = new Map([\n    ['0.3.0', '6.3'], // Windows 8.1\n    ['0.2.0', '6.2'], // Windows 8\n    ['0.1.0', '6.1'] // Windows 7\n  ]);\n\n  if (versionMap.has(platformVersion)) {\n    return versionMap.get(platformVersion);\n  }\n\n  // Windows 10 and above send \"Windows NT 10.0\"\n  return '10.0';\n}\n\n/**\n   * @param {string[]} hints\n   * @return {Promise<string|undefined>} A Promise that resolves on overriding the\n   *   navigator.userAgent string.\n   */\nasync function overrideUserAgentUsingClientHints(hints: ['architecture', 'bitness', 'model', 'platformVersion', 'uaFullVersion', 'fullVersionList']) {\n  return new Promise<string>(resolve => {\n    getUserAgentUsingClientHints(hints).then(newUA => {\n      if (newUA) {\n        // Got a new UA value. Now override `navigator.userAgent`.\n        Object.defineProperty(navigator, 'userAgent', {\n          value: newUA,\n          writable: false,\n          configurable: true\n        });\n      } else {\n        newUA = navigator.userAgent;\n      }\n\n      resolve(newUA);\n    });\n  });\n}\n\nexport const exportedForTests = { getVersion, getWindowsPlatformVersion };\nexport { getUserAgentUsingClientHints, overrideUserAgentUsingClientHints as getUserAgent};\n","import { Injectable } from '@angular/core';\nimport { getUserAgent } from './uach-retrofill';\n\n@Injectable()\nexport class UserAgentService {\n  get() {\n    return new Promise<string>(resolve => {\n      getUserAgent([\n        'architecture',\n        'bitness',\n        'model',\n        'platformVersion',\n        'uaFullVersion',\n        'fullVersionList'\n      ])\n        .then(userAgent => {\n          resolve(userAgent);\n        })\n        .catch(() => {\n          resolve(window.navigator.userAgent);\n        });\n    });\n  }\n}\n","import { AbstractControl, ValidationErrors, ValidatorFn } from '@angular/forms';\nimport { Injectable } from '@angular/core';\n@Injectable()\nexport class ValidatorService {\n\n  isEmail(email: unknown): boolean {\n    const regex = /^(([^ñ<>()[\\]\\\\.,;:\\s@\"]+(\\.[^ñ<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return regex.test(String(email).toLowerCase());\n  }\n\n  isPassFormat(pass: unknown): boolean {\n    const formatRegex = /(?!.*012)(?!.*123)(?!.*234)(?!.*345)(?!.*456)(?!.*567)(?!.*678)(?!.*789)(?!.*987)(?!.*876)(?!.*765)(?!.*654)(?!.*543)(?!.*432)(?!.*321)(?!.*210)(?!.*(.)\\1{2,})(?!(^\\D+$))(?!(^\\d+$))(^.{6,}$)/;\n    const excludeRegex = /[^'\"]$/;\n    const _pass = String(pass).toLowerCase();\n    return formatRegex.test(_pass) && excludeRegex.test(_pass);\n  }\n\n  isNoSpecialCharacter(name: string): boolean {\n    const regex = /^[a-zA-Z0-9][a-zA-Z0-9_-]*$/;\n    return regex.test(String(name).toLowerCase());\n  }\n\n  isNumber(number: unknown): number is number {\n    const regex = /^[0-9]*$/;\n    return regex.test(String(number).toLowerCase());\n  }\n\n  isPhoneNumber(number: string): boolean {\n    const regex = /^\\+{0,1}[0-9#*]+$/;\n    return regex.test(String(number).toLowerCase());\n  }\n\n  isString(string: unknown): string is string {\n    return typeof string === 'string' || string instanceof String;\n  }\n\n  isJSON(text: string): boolean {\n    if (/^[\\],:{}\\s]*$/.test(text.replace(/\\\\[\"\\\\/bfnrtu]/g, '@')\n      .replace(/\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+-]?\\d+)?/g, ']')\n      .replace(/(?:^|:|,)(?:\\s*\\[)+/g, ''))) {\n      return true;\n    }\n\n    return false;\n  }\n\n  emailValidator(): ValidatorFn {\n    return (control: AbstractControl): ValidationErrors | null => {\n      return !control.value || (control.value && this.isEmail(control.value)) ? null : { bizyEmail: true };\n    };\n  }\n\n  phoneNumberValidator(): ValidatorFn {\n    return (control: AbstractControl): ValidationErrors | null => {\n      return !control.value || (control.value && this.isPhoneNumber(control.value)) ? null : { bizyPhoneNumber: true };\n    };\n  }\n\n  numberValidator(): ValidatorFn {\n    return (control: AbstractControl): ValidationErrors | null => {\n      return !control.value || (control.value && this.isNumber(control.value)) ? null : { bizyNumber: true };\n    };\n  }\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class StorageService {\n\n  get<T>(key: string): T {\n    const item = localStorage.getItem(key);\n    try {\n      return JSON.parse(item) as T;\n    } catch (e) {\n      return item as T;\n    }\n  }\n\n  set(key: string, value: unknown): void {\n    if (typeof value === 'object') {\n      localStorage.setItem(key, JSON.stringify(value));\n    } else if (typeof value === 'string') {\n      localStorage.setItem(key, value);\n    }\n  }\n\n  remove(key: string): void {\n    localStorage.removeItem(key);\n  }\n\n  clear(): void {\n    localStorage.clear();\n  }\n}","import { Injectable } from '@angular/core';\n\nenum COLOR {\n  DEFAULT = '#666666',\n  INFO = '#2484C6',\n  SUCCESS = '#65BF6C',\n  WARNING = '#F7A64C',\n  ERROR = '#EF4C59'\n}\n\ninterface ILogData {\n  fileName: string;\n  functionName: string;\n  param?: unknown\n}\n\n@Injectable()\nexport class LogService {\n  #lastLogTimestamp: number = 0;\n\n  #log(log: string, color: COLOR, param: unknown): void {\n    const difference = this.#lastLogTimestamp ? Date.now() - this.#lastLogTimestamp : 0;\n    this.#lastLogTimestamp = Date.now();\n\n    const timestampStyles = 'color: #EE5DFF';\n    const logStyles = `color: ${color}; font-size: 12px;`;\n    const date = new Date();\n    if (param) {\n      console.log(`%c${date.toLocaleString()}: %c${log} %c(+${difference}ms)`, timestampStyles, logStyles, timestampStyles, param);\n    } else {\n      console.log(`%c${date.toLocaleString()}: %c${log} %c(+${difference}ms)`, timestampStyles, logStyles, timestampStyles);\n    }\n  }\n\n  debug(data: string | ILogData, param?: unknown): void {\n    if (typeof data === 'string') {\n      this.#log(data, COLOR.DEFAULT, param);\n    } else {\n      this.#template({ ...data, param: data.param, title: 'Debug', color: COLOR.DEFAULT });\n    }\n  }\n\n  info(data: string | ILogData, param?: unknown): void {\n    if (typeof data === 'string') {\n      this.#log(data, COLOR.INFO, param);\n    } else {\n      this.#template({ ...data, param: data.param, title: 'Info', color: COLOR.INFO });\n    }\n  }\n\n  success(data: string | ILogData, param?: unknown): void {\n    if (typeof data === 'string') {\n      this.#log(data, COLOR.SUCCESS, param);\n    } else {\n      this.#template({ ...data, param: data.param, title: 'Success', color: COLOR.SUCCESS });\n    }\n  }\n\n  warning(data: string | ILogData, param?: unknown): void {\n    if (typeof data === 'string') {\n      this.#log(data, COLOR.WARNING, param);\n    } else {\n      this.#template({ ...data, param: data.param, title: 'Warning', color: COLOR.WARNING });\n    }\n  }\n\n  error(data: string | ILogData, param?: unknown): void {\n    if (typeof data === 'string') {\n      this.#log(data, COLOR.ERROR, param);\n    } else {\n      this.#template({ ...data, param: data.param, title: 'Error', color: COLOR.ERROR });\n    }\n  }\n  /** DEPRECATED */\n  templateDebug(data: ILogData): void {\n    this.#template({ ...data, title: 'Debug', color: COLOR.DEFAULT });\n  }\n  /** DEPRECATED */\n  templateSucc(data: ILogData): void {\n    this.#template({ ...data, title: 'Success', color: COLOR.SUCCESS });\n  }\n  /** DEPRECATED */\n  templateInfo(data: ILogData): void {\n    this.#template({ ...data, title: 'Info', color: COLOR.INFO });\n  }\n  /** DEPRECATED */\n  templateWarn(data: ILogData): void {\n    this.#template({ ...data, title: 'Warning', color: COLOR.WARNING });\n  }\n  /** DEPRECATED */\n  templateError(data: ILogData): void {\n    this.#template({ ...data, title: 'Error', color: COLOR.ERROR });\n  }\n\n  #template(data: { fileName: string; functionName: string; title: string, color: COLOR; param?: unknown }): void {\n    const log = `(${data.title}) ${data.fileName} - ${data.functionName}`;\n    this.#log(log, data.color, data.param);\n  }\n}\n","import { Inject, Injectable } from '@angular/core';\nimport { ActivatedRoute, ActivatedRouteSnapshot, NavigationEnd, NavigationStart, Router } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { distinctUntilChanged, filter, map } from 'rxjs/operators';\n\n@Injectable()\nexport class RouterService {\n  private _backPath = '';\n\n  transitionsEnd$: Observable<ActivatedRouteSnapshot>;\n\n  transitionsStart$: Observable<ActivatedRouteSnapshot>;\n\n  constructor(@Inject(Router) private router: Router) {\n    this.transitionsEnd$ = this.router.events.pipe(\n      filter(event => event instanceof NavigationEnd),\n      map((event: any) => event.id),\n      distinctUntilChanged(),\n      map(() => this.router.routerState.snapshot.root)\n    );\n\n    this.transitionsStart$ = this.router.events.pipe(\n      filter(event => event instanceof NavigationStart),\n      map((event: any) => event.id),\n      distinctUntilChanged(),\n      map(() => this.router.routerState.snapshot.root)\n    );\n  }\n\n  getURL() {\n    return window.location.pathname;\n  }\n\n  getBackPath() {\n    return this._backPath;\n  }\n\n  getId(activatedRoute: ActivatedRoute, param: string): string | null {\n    return activatedRoute.snapshot.paramMap.get(param);\n  }\n\n  getQueryParam(activatedRoute: ActivatedRoute, param: string): string | null {\n    return activatedRoute.snapshot.queryParamMap.get(param);\n  }\n\n  goTo(data: { path: string; params?: Record<string, string> }) {\n    this._backPath = this.getURL();\n    if (data.path[0] === '/') {\n      this.router.navigateByUrl(`${data.path}${this._serialize(data.params)}`, {\n        replaceUrl: true\n      });\n      return;\n    }\n\n    const path = this.getURL();\n    const index = path.indexOf('?');\n    const url = index !== -1 ? path.substring(0, index) : path;\n\n    this.router.navigateByUrl(`${url}/${data.path}${this._serialize(data.params)}`, {\n      replaceUrl: true\n    });\n  }\n\n  goBack() {\n    if (this._backPath) {\n      this.router.navigateByUrl(this._backPath, { replaceUrl: true });\n      this._backPath = '';\n    } else {\n      const index = this.getURL().lastIndexOf('/');\n      const backURL = this.getURL().substring(0, index);\n      this.router.navigateByUrl(backURL, { replaceUrl: true });\n    }\n  }\n\n  reload(force?: boolean): void {\n    if (force) {\n      window.location.reload();\n    } else {\n      this.router.navigateByUrl('/', { skipLocationChange: true }).then(() => {\n        this.goTo({ path: this.getURL() });\n      });\n    }\n  }\n\n  private _serialize(params?: Record<string, string>): string {\n    if (!params) {\n      return '';\n    }\n\n    const str = [];\n    for (const param in params) {\n      if (params[param]) {\n        str.push(encodeURIComponent(param) + '=' + encodeURIComponent(params[param]));\n      }\n    }\n\n    const queryParams = str.length > 0 ? `?${str.join('&')}` : '';\n    return queryParams;\n  }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["getUserAgent"],"mappings":"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"}