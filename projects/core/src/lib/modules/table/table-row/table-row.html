<bizy-accordion
  class="bizy-table-row__accordion"
  customClass="bizy-table-row__accordion {{disabled ? 'bizy-table-row--disabled' : ''}} {{selected ? 'bizy-table-row--selected' : ''}} {{opened ? 'bizy-table-row--opened' : ''}}"
  [(opened)]="opened"
  (onSelect)="_onOpen($event)">

  <button
    type="button"
    [id]="id"
    class="bizy-table-row {{customClass}}"
    (click)="selectedChange.emit(!selected)"
    (keyup.enter)="selectedChange.emit(!selected)"
    [ngClass]="{'bizy-table-row--disabled': disabled, 'bizy-table-row--selected': selected}">

    <ng-content select="bizy-table-column"></ng-content>

    @if (selectable !== null) {
      <bizy-checkbox
        class="bizy-table-row__checkbox"
        [ngStyle]="{right: marginRight + 'px'}"
        [ngClass]="{'bizy-table-row__checkbox--hidden': selectable === false, 'bizy-table-row__checkbox--shadow': marginRight > 0}"
        [selected]="selected"
        [disabled]="disabled"
        (selectedChange)="selectedChange.emit($event)"
        (onSelect)="onSelect.emit($event); $event.stopPropagation()">
      </bizy-checkbox>
    }

  </button>

  <ng-content accordion-option select="bizy-table-row-expand-content"></ng-content>

</bizy-accordion>