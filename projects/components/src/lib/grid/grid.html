<div class="bizy-grid" [ngClass]="{'bizy-grid--empty': items && items.length === 0}">

    <cdk-virtual-scroll-viewport
        class="bizy-grid__rows"
        [itemSize]="rowHeight"
        [minBufferPx]="rowHeight + (rowHeight * 20)"
        [maxBufferPx]="rowHeight + (rowHeight * 40)">
        
        <ng-content></ng-content>

        <ng-template #gridScrollingContent>
            <ng-template let-item cdkVirtualFor [cdkVirtualForOf]="itemRows">
                <bizy-grid-row [rowHeight]="rowHeight" [itemsPerRow]="itemsPerRow">
                    <ng-container *ngFor="let it of item">
                        <ng-template *ngTemplateOutlet="itemTemplate; context: { $implicit: it }"></ng-template>
                    </ng-container>
                </bizy-grid-row>
            </ng-template>
        </ng-template>
    </cdk-virtual-scroll-viewport>

</div>